"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9907],{7789:function(V,O,e){e.r(O),e.d(O,{default:function(){return $}});var c=e(48305),v=e.n(c),h=e(38578),B=e(54256),M=e(60845),I=e(23158),W=e(9548),D=e(70785),R=e(75962),F=e(27780),d=e(65062),n=e(31914),a=e(82773),o=e(75271),i=e(90228),r=e.n(i),g=e(87999),p=e.n(g);function l(N){return u.apply(this,arguments)}function u(){return u=p()(r()().mark(function N(f){return r()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,h.request)("/api/register",{method:"POST",data:f}));case 1:case"end":return S.stop()}},N)})),u.apply(this,arguments)}var _=e(40437),A=(0,_.kc)(function(N){var f=N.token;return{main:{width:"368px",margin:"0 auto",h3:{marginBottom:"20px",fontSize:"16px"}},password:{marginBottom:"24px",".ant-form-item-explain":{display:"none"}},getCaptcha:{display:"block",width:"100%"},footer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},submit:{width:"50%"},success:{transition:"color 0.3s",color:f.colorSuccess},warning:{transition:"color 0.3s",color:f.colorWarning},error:{transition:"color 0.3s",color:f.colorError},"progress-pass > .progress":{".ant-progress-bg":{backgroundColor:f.colorWarning}}}}),j=A,t=e(52676),C=B.Z.Item,P=M.Z.Option,ee={ok:"success",pass:"normal",poor:"exception"},te=function(){var f=j(),m=f.styles,S=(0,o.useState)(0),w=v()(S,2),K=w[0],G=w[1],H=(0,o.useState)(!1),U=v()(H,2),Z=U[0],X=U[1],ne=(0,o.useState)("86"),Y=v()(ne,2),re=Y[0],oe=Y[1],se=(0,o.useState)(!1),J=v()(se,2),ae=J[0],Q=J[1],le=!1,L,k={ok:(0,t.jsx)("div",{className:m.success,children:(0,t.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,t.jsx)("div",{className:m.warning,children:(0,t.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,t.jsx)("div",{className:m.error,children:(0,t.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},q=B.Z.useForm(),x=v()(q,1),y=x[0];(0,o.useEffect)(function(){return function(){clearInterval(L)}},[L]);var z=function(){var s=59;G(s),L=window.setInterval(function(){s-=1,G(s),s===0&&clearInterval(L)},1e3)},ie=function(){var s=y.getFieldValue("password");return s&&s.length>9?"ok":s&&s.length>5?"pass":"poor"},ce=(0,h.useRequest)(l,{manual:!0,onSuccess:function(s,E){s.status==="ok"&&(I.ZP.success("\u6CE8\u518C\u6210\u529F\uFF01"),h.history.push({pathname:"/user/register-result?account=".concat(E[0].email)}))}}),ue=ce.loading,de=ce.run,pe=function(s){de(s)},me=function(s,E){var b=Promise;return E&&E!==y.getFieldValue("password")?b.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):b.resolve()},ve=function(s,E){var b=Promise;return E?(Z||X(!!E),Q(!ae),E.length<6?b.reject(""):(E&&le&&y.validateFields(["confirm"]),b.resolve())):(X(!!E),b.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"))},ge=function(s){oe(s)},fe=function(){var s=y.getFieldValue("password"),E=ie();return s&&s.length?(0,t.jsx)("div",{className:m["progress-".concat(E)],children:(0,t.jsx)(W.Z,{status:ee[E],strokeWidth:6,percent:s.length*10>100?100:s.length*10,showInfo:!1})}):null};return(0,t.jsxs)("div",{className:m.main,children:[(0,t.jsx)("h3",{children:"\u6CE8\u518C"}),(0,t.jsxs)(B.Z,{form:y,name:"UserRegister",onFinish:pe,children:[(0,t.jsx)(C,{name:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,t.jsx)(D.Z,{size:"large",placeholder:"\u90AE\u7BB1"})}),(0,t.jsx)(R.Z,{getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},content:Z&&(0,t.jsxs)("div",{style:{padding:"4px 0"},children:[k[ie()],fe(),(0,t.jsx)("div",{style:{marginTop:10},children:(0,t.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",open:Z,children:(0,t.jsx)(C,{name:"password",className:y.getFieldValue("password")&&y.getFieldValue("password").length>0&&m.password,rules:[{validator:ve}],children:(0,t.jsx)(D.Z,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})}),(0,t.jsx)(C,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:me}],children:(0,t.jsx)(D.Z,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,t.jsx)(C,{name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,t.jsxs)(F.Z.Compact,{style:{width:"100%"},children:[(0,t.jsxs)(M.Z,{size:"large",value:re,onChange:ge,style:{width:"30%"},children:[(0,t.jsx)(P,{value:"86",children:"+86"}),(0,t.jsx)(P,{value:"87",children:"+87"})]}),(0,t.jsx)(D.Z,{size:"large",placeholder:"\u624B\u673A\u53F7"})]})}),(0,t.jsxs)(d.Z,{gutter:8,children:[(0,t.jsx)(n.Z,{span:16,children:(0,t.jsx)(C,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,t.jsx)(D.Z,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"})})}),(0,t.jsx)(n.Z,{span:8,children:(0,t.jsx)(a.ZP,{size:"large",disabled:!!K,className:m.getCaptcha,onClick:z,children:K?"".concat(K," s"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]}),(0,t.jsx)(C,{children:(0,t.jsxs)("div",{className:m.footer,children:[(0,t.jsx)(a.ZP,{size:"large",loading:ue,className:m.submit,type:"primary",htmlType:"submit",children:(0,t.jsx)("span",{children:"\u6CE8\u518C"})}),(0,t.jsx)(h.Link,{to:"/user/login",children:(0,t.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})})]})]})},$=te},28789:function(V,O,e){e.d(O,{Z:function(){return c}});const c=v=>v?typeof v=="function"?v():v:null},82237:function(V,O,e){e.d(O,{aV:function(){return R}});var c=e(75271),v=e(82187),h=e.n(v),B=e(75219),M=e(28789),I=e(16941),W=e(79373),D=function(n,a){var o={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)a.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(o[i[r]]=n[i[r]]);return o};const R=({title:n,content:a,prefixCls:o})=>!n&&!a?null:c.createElement(c.Fragment,null,n&&c.createElement("div",{className:`${o}-title`},n),a&&c.createElement("div",{className:`${o}-inner-content`},a)),F=n=>{const{hashId:a,prefixCls:o,className:i,style:r,placement:g="top",title:p,content:l,children:u}=n,_=(0,M.Z)(p),A=(0,M.Z)(l),j=h()(a,o,`${o}-pure`,`${o}-placement-${g}`,i);return c.createElement("div",{className:j,style:r},c.createElement("div",{className:`${o}-arrow`}),c.createElement(B.G,Object.assign({},n,{className:a,prefixCls:o}),u||c.createElement(R,{prefixCls:o,title:_,content:A})))},d=n=>{const{prefixCls:a,className:o}=n,i=D(n,["prefixCls","className"]),{getPrefixCls:r}=c.useContext(I.E_),g=r("popover",a),[p,l,u]=(0,W.Z)(g);return p(c.createElement(F,Object.assign({},i,{prefixCls:g,hashId:l,className:h()(o,u)})))};O.ZP=d},75962:function(V,O,e){var c=e(75271),v=e(82187),h=e.n(v),B=e(93954),M=e(14583),I=e(28789),W=e(27531),D=e(74792),R=e(84650),F=e(82237),d=e(16941),n=e(79373),a=function(r,g){var p={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&g.indexOf(l)<0&&(p[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)g.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(p[l[u]]=r[l[u]]);return p};const i=c.forwardRef((r,g)=>{var p,l;const{prefixCls:u,title:_,content:A,overlayClassName:j,placement:t="top",trigger:C="hover",children:P,mouseEnterDelay:ee=.1,mouseLeaveDelay:te=.1,onOpenChange:$,overlayStyle:N={},styles:f,classNames:m}=r,S=a(r,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:w,className:K,style:G,classNames:H,styles:U}=(0,d.dj)("popover"),Z=w("popover",u),[X,ne,Y]=(0,n.Z)(Z),re=w(),oe=h()(j,ne,Y,K,H.root,m==null?void 0:m.root),se=h()(H.body,m==null?void 0:m.body),[J,ae]=(0,B.Z)(!1,{value:(p=r.open)!==null&&p!==void 0?p:r.visible,defaultValue:(l=r.defaultOpen)!==null&&l!==void 0?l:r.defaultVisible}),Q=(x,y)=>{ae(x,!0),$==null||$(x,y)},le=x=>{x.keyCode===M.Z.ESC&&Q(!1,x)},L=x=>{Q(x)},k=(0,I.Z)(_),q=(0,I.Z)(A);return X(c.createElement(R.Z,Object.assign({placement:t,trigger:C,mouseEnterDelay:ee,mouseLeaveDelay:te},S,{prefixCls:Z,classNames:{root:oe,body:se},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},U.root),G),N),f==null?void 0:f.root),body:Object.assign(Object.assign({},U.body),f==null?void 0:f.body)},ref:g,open:J,onOpenChange:L,overlay:k||q?c.createElement(F.aV,{prefixCls:Z,title:k,content:q}):null,transitionName:(0,W.m)(re,"zoom-big",S.transitionName),"data-popover-inject":!0}),(0,D.Tm)(P,{onKeyDown:x=>{var y,z;c.isValidElement(P)&&((z=P==null?void 0:(y=P.props).onKeyDown)===null||z===void 0||z.call(y,x)),le(x)}})))});i._InternalPanelDoNotUseOrYouWillBeFired=F.ZP,O.Z=i},79373:function(V,O,e){var c=e(98814),v=e(75184),h=e(19622),B=e(87437),M=e(53212),I=e(27235),W=e(30509);const D=d=>{const{componentCls:n,popoverColor:a,titleMinWidth:o,fontWeightStrong:i,innerPadding:r,boxShadowSecondary:g,colorTextHeading:p,borderRadiusLG:l,zIndexPopup:u,titleMarginBottom:_,colorBgElevated:A,popoverBg:j,titleBorderBottom:t,innerContentPadding:C,titlePadding:P}=d;return[{[n]:Object.assign(Object.assign({},(0,c.Wf)(d)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":A,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:j,backgroundClip:"padding-box",borderRadius:l,boxShadow:g,padding:r},[`${n}-title`]:{minWidth:o,marginBottom:_,color:p,fontWeight:i,borderBottom:t,padding:P},[`${n}-inner-content`]:{color:a,padding:C}})},(0,h.ZP)(d,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:d.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},R=d=>{const{componentCls:n}=d;return{[n]:M.i.map(a=>{const o=d[`${a}6`];return{[`&${n}-${a}`]:{"--antd-arrow-background-color":o,[`${n}-inner`]:{backgroundColor:o},[`${n}-arrow`]:{background:"transparent"}}}})}},F=d=>{const{lineWidth:n,controlHeight:a,fontHeight:o,padding:i,wireframe:r,zIndexPopupBase:g,borderRadiusLG:p,marginXS:l,lineType:u,colorSplit:_,paddingSM:A}=d,j=a-o,t=j/2,C=j/2-n,P=i;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:g+30},(0,B.w)(d)),(0,h.wZ)({contentRadius:p,limitVerticalRadius:!0})),{innerPadding:r?0:12,titleMarginBottom:r?0:l,titlePadding:r?`${t}px ${P}px ${C}px`:0,titleBorderBottom:r?`${n}px ${u} ${_}`:"none",innerContentPadding:r?`${A}px ${P}px`:0})};O.Z=(0,I.I$)("Popover",d=>{const{colorBgElevated:n,colorText:a}=d,o=(0,W.IX)(d,{popoverBg:n,popoverColor:a});return[D(o),R(o),(0,v._y)(o,"zoom-big")]},F,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})}}]);
