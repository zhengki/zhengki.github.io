webpackJsonp([5],{"0KnS":function(t,e){},"6U+3":function(t,e,i){t.exports=i.p+"static/img/app-1.1bfd9a6.png"},"9Wvw":function(t,e,i){t.exports=i.p+"static/img/app-3.d2f9670.png"},D2do:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Au9i"),n={data:function(){return{beginClientX:0,mouseMoveStata:!1,maxwidth:"",confirmWords:"向右滑动验证",confirmSuccess:!1}},methods:{mousedownFn:function(t){this.confirmSuccess||(t.preventDefault&&t.preventDefault(),this.mouseMoveStata=!0,this.beginClientX=t.changedTouches[0].clientX)},successFunction:function(){this.confirmSuccess=!0,this.confirmWords="验证通过",this.$emit("validate",!0),window.addEventListener?(document.getElementsByTagName("html")[0].removeEventListener("touchmove",this.mouseMoveFn),document.getElementsByTagName("html")[0].removeEventListener("touchend",this.moseUpFn)):document.getElementsByTagName("html")[0].removeEventListener("touchend",function(){}),document.getElementsByClassName("drag_text")[0].style.color="#fff",document.getElementsByClassName("handler")[0].style.left=this.maxwidth+"px",document.getElementsByClassName("drag_bg")[0].style.width=this.maxwidth+"px"},mouseMoveFn:function(t){if(this.mouseMoveStata){var e=t.changedTouches[0].clientX-this.beginClientX;e>0&&e<this.maxwidth?(document.getElementsByClassName("handler")[0].style.left=e+"px",document.getElementsByClassName("drag_bg")[0].style.width=e+"px"):e>=this.maxwidth&&this.successFunction()}},moseUpFn:function(t){this.mouseMoveStata=!1,t.changedTouches[0].clientX-this.beginClientX<this.maxwidth&&(document.getElementsByClassName("handler")[0].style.left="0px",document.getElementsByClassName("drag_bg")[0].style.width="0px")},onSubmitForm:function(){console.log(this.confirmWords)}},mounted:function(){this.maxwidth=this.$refs.dragDiv.clientWidth-this.$refs.moveDiv.clientWidth,document.getElementsByTagName("html")[0].addEventListener("touchmove",this.mouseMoveFn),document.getElementsByTagName("html")[0].addEventListener("touchend",this.moseUpFn)}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"dragDiv",staticClass:"drag"},[i("div",{staticClass:"drag_bg"}),t._v(" "),i("div",{staticClass:"drag_text"},[t._v(t._s(t.confirmWords))]),t._v(" "),i("div",{ref:"moveDiv",staticClass:"handler handler_bg",class:{handler_ok_bg:t.confirmSuccess},staticStyle:{position:"absolute",top:"0px",left:"0px"},on:{touchstart:function(e){t.mousedownFn(e)}}})])])},staticRenderFns:[]};var o=i("VU/8")(n,a,!1,function(t){i("QiZw")},"data-v-40855c08",null).exports,c=i("vLgD");console.log(Object({NODE_ENV:"production",ENV_CONFIG:"test",BASE_API:"https://testnewapi.chungoulife.com",BASE_API2:"https://testnewapi.chungoulife.com",VUE_APP_ERUDA:"true"}));var r={components:{Validation:o},data:function(){return{inviteCode:"",avatar:"",username:"",phone:"",code:"",isValidate:!1,isApp:!1,countdown:60}},created:function(){"app"===this.$route.query.isapp?this.isApp=!0:this.isApp=!1,this.inviteCode=this.$route.query.invite_code,console.log(this.isApp),this.isApp||this.isInValidParam(this.inviteCode)||this.getUserInfo(),console.log("url:",window.location.href)},computed:{isInviteCode:function(){return this.isInValidParam(this.inviteCode)}},methods:{isInValidParam:function(t){return[0,void 0,"0","","undefined",null,!1].includes(t)},getUserInfo:function(){var t,e=this;(t={invite_code:this.inviteCode},Object(c.a)({url:"https://testnewapi.chungoulife.com/api/share/userInfo",method:"get",params:t})).then(function(t){if(1===t.code){var i=t.data;e.username=i.nickname,e.avatar=i.head_pic}})},onSubmit:function(){var t,e=this,i=this.inviteCode,n=this.phone,a=this.code;""===n?Object(s.Toast)("请输入手机号码"):""===a?Object(s.Toast)("请输入验证码"):(t={username:n,invite_code:i,verify_code:a},Object(c.a)({url:"https://testnewapi.chungoulife.com/api/share/reg",method:"post",data:t})).then(function(t){if(1===t.code){var i=t.data;e.$router.push("/friend-success/"+i.has_reg)}})},onGetCode:function(){var t=this;this.phoneReg=/^(?:(?:\+|00)86)?1\d{10}$/;var e,i=this.phone;""===i?Object(s.Toast)("请输入手机号码"):this.phoneReg.test(i)?this.isValidate?(e={mobile:i},Object(c.a)({url:"https://testnewapi.chungoulife.com/api/Share/sendMsg",method:"get",params:e})).then(function(e){console.log("res:",e),1===e.code&&t.countTime()}):Object(s.Toast)("您尚未验证无法获取验证码信息"):Object(s.Toast)("手机号码格式有误")},onValidate:function(){this.isValidate=!0},countTime:function(){var t=this,e=setInterval(function(){1===t.countdown?(clearInterval(e),t.countdown=60):t.countdown-=1},1e3)},onGoAgreement:function(t){this.$router.push("/agreement/"+t)}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invite-container max-width"},[t.isApp?i("div",{staticClass:"app"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)]):i("div",{staticClass:"web"},[i("div",{staticClass:"invite-bg"},[t.isInviteCode?t._e():i("div",{staticClass:"user-info"},[i("div",{staticClass:"avatar",style:{backgroundImage:"url("+t.avatar+")"}}),t._v(" "),i("div",{staticClass:"user"},[i("div",{staticClass:"username"},[t._v(t._s(t.username))]),t._v(" "),i("div",{staticClass:"user-text"},[t._v("我发现一个好货APP，你也试试吧")])])]),t._v(" "),i("div",{staticClass:"reg-form"},[i("p",{staticClass:"reg-title"},[t._v("纯购严选APP")]),t._v(" "),t._m(4),t._v(" "),i("div",{staticClass:"form"},[i("div",{staticClass:"inputs"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.phone,expression:"phone",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"tel",maxlength:"11",placeholder:"请输入手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"inputs validate"},[i("Validation",{on:{validate:t.onValidate}})],1),t._v(" "),i("div",{staticClass:"inputs flex"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.code,expression:"code",modifiers:{trim:!0}}],staticClass:"input input-code",attrs:{type:"tel",maxlength:"4",placeholder:"请输入验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),60===t.countdown?i("div",{staticClass:"get-code",on:{click:t.onGetCode}},[t._v("获取验证码")]):i("div",{staticClass:"get-code countdown"},[t._v(t._s(t.countdown)+"秒")])]),t._v(" "),i("div",{staticClass:"submit",on:{click:t.onSubmit}},[t._v("APP不错，立即注册")]),t._v(" "),i("p",{staticClass:"agree"},[t._v("\n            注册即同意\n            "),i("span",{staticClass:"agreement",on:{click:function(e){t.onGoAgreement(1)}}},[t._v("《注册协议》")]),t._v("\n            和\n            "),i("span",{staticClass:"agreement",on:{click:function(e){t.onGoAgreement(3)}}},[t._v("《隐私政策》")])])])])]),t._v(" "),i("div",{staticClass:"invite-bg-info"})]),t._v(" "),i("div",{staticClass:"mask"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:i("6U+3"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:i("tf4k"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:i("9Wvw"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:i("mkMh"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"center"},[e("span",{staticClass:"reg-sm-title"},[this._v("更多超值严选好货尽在纯购")])])}]};var l=i("VU/8")(r,d,!1,function(t){i("0KnS"),i("iihv")},"data-v-310f1e53",null);e.default=l.exports},QiZw:function(t,e){},iihv:function(t,e){},mkMh:function(t,e,i){t.exports=i.p+"static/img/app-4.d6d6208.png"},tf4k:function(t,e,i){t.exports=i.p+"static/img/app-2.aa795a8.png"}});