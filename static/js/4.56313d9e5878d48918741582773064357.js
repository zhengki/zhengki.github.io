webpackJsonp([4],{Dd8w:function(t,e,i){"use strict";e.__esModule=!0;var s,a=i("woOf"),n=(s=a)&&s.__esModule?s:{default:s};e.default=n.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},HYlj:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),n=i("7+uW"),o=i("PJh5"),l=i.n(o),r=i("Au9i"),c=i("bIUP"),d=i("bqTm"),v=i.n(d);n.default.use(v.a),n.default.component(r.DatetimePicker.name,r.DatetimePicker);var u="YYYY.MM.DD",_=l()("2019-12-12 15:48:30").unix(),f={data:function(){return{startDate:new Date,loading:!1,scroll:null,list:[],status:1,pickerValue:"",edit:!1,property:"",timeStr:"",sdateStr:"",edateStr:"",status_total1:{detail:{}},status_total2:{detail:{}},status_total3:{detail:{}},p:1,type:1,typeList:[{name:"今日实时",value:1},{name:"昨日",value:2},{name:"7日",value:3},{name:"30日",value:4},{name:"自定义",value:5}]}},computed:{sdate:function(){return this.sdateStr?l()(this.sdateStr).format("YYYY-MM-DD"):""},edate:function(){return this.edateStr?l()(this.edateStr).format("YYYY-MM-DD"):""}},created:function(){console.log("测试1"),this.timeStr=l()().format(u);var t=new Date;t.setFullYear(2019),t.setMonth(8),t.setDate(1),this.startDate=t,this.getData()},mounted:function(){this.$refs.picker.dateSlots[0].values=[]},methods:{toggleType:function(t){var e=this;switch(this.p=1,this.type=t,this.edit=!1,this.sdateStr="",this.edateStr="",t){case 1:this.timeStr=l()().format(u);break;case 2:this.timeStr=l()().subtract(1,"days").format(u);break;case 3:this.timeStr=l()().subtract(7,"days").format(u)+"-"+l()().format(u);break;case 4:this.timeStr=l()().subtract(30,"days").format(u)+"-"+l()().format(u);break;default:this.timeStr="",this.edit=!0}5!==t&&this.$nextTick().then(function(){return e.getData()})},toggleStatus:function(t){var e=this;this.p=1,this.status=t,this.$nextTick().then(function(){return e.getData()})},showPicker:function(t){var e=this;this.property=t,this.pickerValue=this[t]?this[t]:new Date,this.$nextTick().then(function(){e.$refs.picker.open()})},pickerConfirm:function(t){this[this.property]=t},customSearch:function(){this.sdateStr&&this.edateStr?(this.edit=!1,this.timeStr=l()(this.sdateStr).format(u)+"-"+l()(this.edateStr).format(u),this.getData()):Object(r.Toast)("请选择时间")},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,this.$nextTick().then(function(){var i={date_type:t.type,p:e?t.p+1:t.p,sdate:t.sdate,edate:t.edate,status_type:t.status};Object(c.a)(i,t.$route.query.token).then(function(i){t.loading=!1,1===i.code?(t.p=e?t.p+1:t.p,t.list=e?t.list.concat(i.data.datalist):i.data.datalist,t.scroll=i.data.scroll,t.status_total1=i.data.status_total1,t.status_total2=i.data.status_total2,t.status_total3=i.data.status_total3):(t.scroll=0,t.list=e?t.list:[],t.status_total1={detail:{}},t.status_total2={detail:{}},t.status_total3={detail:{}}),t.$nextTick().then(function(){t.list=t.list.map(function(t){return a()({},t,{isSpecial:l()(t.pay_time).unix()<_})})})})})},loadMore:function(){console.log("加载更多"),this.scroll&&this.getData(!0)}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"container",attrs:{"infinite-scroll-distance":"20"}},[s("div",{staticClass:"search-bar"},t._l(t.typeList,function(e){return s("div",{key:e.value,class:{active:t.type===e.value},on:{click:function(i){t.toggleType(e.value)}}},[t._v(t._s(e.name))])})),t._v(" "),t.edit?s("div",{staticClass:"time"},[s("div",{on:{click:function(e){t.showPicker("sdateStr")}}},[t._v(t._s(t.sdate))]),t._v(" "),s("div"),t._v(" "),s("div",{on:{click:function(e){t.showPicker("edateStr")}}},[t._v(t._s(t.edate))]),t._v(" "),s("div",{on:{click:t.customSearch}},[t._v("确定")])]):s("div",{staticClass:"search-tips"},[s("div",[t._v("数据统计日期："+t._s(t.timeStr))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:5===t.type,expression:"type === 5"}],on:{click:function(e){t.edit=!0}}},[t._v("修改时间")])]),t._v(" "),s("div",{staticClass:"total"},[s("div",{staticClass:"total-title"},[t._v("整体数据")]),t._v(" "),s("div",{staticClass:"total-item"},[s("div",[s("div",[t._v("未获得贡献值")]),t._v(" "),s("div",[s("img",{attrs:{src:i("RMy6"),alt:""}}),t._v("\n          "+t._s(t.status_total1.total||0)+"\n        ")])]),t._v(" "),s("div",[s("div",[t._v("当月基础贡献值：")]),t._v(" "),s("div",[t._v(t._s(t.status_total1.detail.week||0))])]),t._v(" "),s("div",[s("div",[t._v("月任务奖励贡献值：")]),t._v(" "),s("div",[t._v(t._s(t.status_total1.detail.month||0))])]),t._v(" "),s("div",[s("div",[t._v("额外贡献值(严选专区)：")]),t._v(" "),s("div",[t._v(t._s(t.status_total1.detail.gift||0))])])]),t._v(" "),s("div",{staticClass:"total-item has"},[s("div",[s("div",[t._v("已获得贡献值")]),t._v(" "),s("div",[s("img",{attrs:{src:i("RMy6"),alt:""}}),t._v("\n          "+t._s(t.status_total2.total||0)+"\n        ")])]),t._v(" "),s("div",[s("div",[t._v("当月基础贡献值：")]),t._v(" "),s("div",[t._v(t._s(t.status_total2.detail.week||0))])]),t._v(" "),s("div",[s("div",[t._v("月任务奖励贡献值：")]),t._v(" "),s("div",[t._v(t._s(t.status_total2.detail.month||0))])]),t._v(" "),s("div",[s("div",[t._v("额外贡献值(严选专区)：")]),t._v(" "),s("div",[t._v(t._s(t.status_total2.detail.gift||0))])])]),t._v(" "),s("div",{staticClass:"total-item"},[s("div",[s("div",[t._v("已失效贡献值")]),t._v(" "),s("div",[s("img",{attrs:{src:i("RMy6"),alt:""}}),t._v("\n          "+t._s(t.status_total3.total||0)+"\n        ")])]),t._v(" "),s("div",[s("div",[t._v("当月基础贡献值：")]),t._v(" "),s("div",[t._v(t._s(t.status_total3.detail.week||0))])]),t._v(" "),s("div",[s("div",[t._v("月任务奖励贡献值：")]),t._v(" "),s("div",[t._v(t._s(t.status_total3.detail.month||0))])]),t._v(" "),s("div",[s("div",[t._v("额外贡献值(严选专区)：")]),t._v(" "),s("div",[t._v(t._s(t.status_total3.detail.gift||0))])])])]),t._v(" "),s("div",{staticClass:"list-container"},[s("div",{staticClass:"list-title"},[s("div",{class:{active:1===t.status},on:{click:function(e){t.toggleStatus(1)}}},[t._v("待获得")]),t._v(" "),s("div",{class:{active:2===t.status},on:{click:function(e){t.toggleStatus(2)}}},[t._v("已获得")]),t._v(" "),s("div",{class:{active:3===t.status},on:{click:function(e){t.toggleStatus(3)}}},[t._v("已失效")])]),t._v(" "),t.list.length?t._e():s("div",{staticClass:"empty"},[t._v("暂无数据~")]),t._v(" "),s("div",{staticClass:"list"},t._l(t.list,function(e,i){return s("div",{key:i,staticClass:"list-item"},[s("div",{staticClass:"list-item-title"},[s("span",[t._v("订单编号："+t._s(e.order_sn))]),t._v(" "),s("span",[t._v(t._s(e.status))])]),t._v(" "),t._l(e.goodslist,function(i,a){return s("div",{key:a,staticClass:"good-item"},[s("div",{staticClass:"good-content"},[s("div",{staticClass:"good-detail"},[s("img",{attrs:{src:i.original_img,alt:""}}),t._v(" "),s("div",{staticClass:"good-detail-right"},[s("div",[t._v(t._s(i.goods_name))]),t._v(" "),s("div",[s("span",[t._v(t._s(i.key_name))]),t._v(" "),s("span",[t._v("x"+t._s(i.godds_num))])]),t._v(" "),s("div",[t._v("\n                  金额：\n                  "),s("span",[t._v("￥"+t._s(i.goods_price))])])])]),t._v(" "),e.goodslist.length>1&&e.isSpecial?s("div",{staticClass:"good-contribute"},[t._v("贡献值"+t._s(i.fee))]):e.goodslist.length>1&&1==i.fee_type?s("div",{staticClass:"good-contribute"},[t._v("当月基础贡献值"+t._s(i.fee))]):e.goodslist.length>1&&2==i.fee_type?s("div",{staticClass:"good-contribute"},[t._v("月任务奖励贡献值"+t._s(i.fee))]):e.goodslist.length>1&&3==i.fee_type?s("div",{staticClass:"good-contribute"},[t._v("额外贡献值（严选专区）"+t._s(i.fee))]):t._e()])])}),t._v(" "),s("div",{staticClass:"order-info"},[t._v("订单金额："+t._s(e.total_price))]),t._v(" "),s("div",{staticClass:"order-info"},[t._v("支付时间："+t._s(e.pay_time))]),t._v(" "),e.isSpecial?s("div",{staticClass:"order-info"},[t._v("\n          贡献值\n          "),s("span",[t._v(t._s(e.order_fee))])]):1==e.fee_type?s("div",{staticClass:"order-info"},[t._v("\n          当月基础贡献值\n          "),s("span",[t._v(t._s(e.order_fee))])]):2==e.fee_type?s("div",{staticClass:"order-info"},[t._v("\n          月任务奖励贡献值\n          "),s("span",[t._v(t._s(e.order_fee))])]):s("div",{staticClass:"order-info"},[t._v("\n          额外贡献值（严选专区）\n          "),s("span",[t._v(t._s(e.order_fee))])])],2)})),t._v(" "),!t.scroll&&t.list.length?s("div",{staticClass:"no-more"},[t._v("已经到底了")]):t._e()]),t._v(" "),s("mt-datetime-picker",{ref:"picker",staticClass:"detail-picker",attrs:{type:"date",startDate:t.startDate,endDate:new Date,"year-format":"{value}年","month-format":"{value}月","date-format":"{value}日"},on:{confirm:t.pickerConfirm},model:{value:t.pickerValue,callback:function(e){t.pickerValue=e},expression:"pickerValue"}})],1)},staticRenderFns:[]};var h=i("VU/8")(f,m,!1,function(t){i("zPg3"),i("Nkj5")},"data-v-9fb738b0",null);e.default=h.exports},Nkj5:function(t,e){},R4wc:function(t,e,i){var s=i("kM2E");s(s.S+s.F,"Object",{assign:i("To3L")})},RMy6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAmCAYAAACyAQkgAAADsklEQVRYR+2YX2gUVxjFzzczada8KARSkBahTwXBzUyCSWkNDdYgikit7GyqL31oXwwBTXZGq4VQMWRn1CLRJ8FCoWRnhVBKFZSCCKLWZmdT+tIUpBRpC22aVm2jNZv5yixZszPZ/7vCCLmPd+4993fPPfebYWgqObZWgHgBzBuIEZej2kUEsFHaMs4ycGCJ7d/7bfPrentHMkFjpVTSuEKMvhxYM0mtGyOH5gIHalvmRYD3LoH910zS+ucB9LGUWVy/ad+Rv4Lu6CpovSdEvoyuOrrqaL0ONHr+akbrcfSbydFWaUE6RIwZJap95moFzlHbMt8C+HMAbdnNMgaVqDYeKNDphNHnEK7knwaBk7Kqq4EBnZ44JTvCou2LzJzD2NwZ1e7WDJpKxN8DcL8jqk/Wk0d37rQV73VAlwGElrXoO7EJfeE9sd9rzqidMMdBPJAVYD4hR/VjtcLa1skewLnum595shBq7d4/+CDXX7WjqYRpEHHMmyP6QFZj56uFTVvG6wzc8M2bZxJ6OiLDKc8a1bzr7aTxBRi7CwERcFRWtdFKYe2k+RqYb+aPZ2Bm0RG3be4fuufXqdjRtGVeYLCby6KNiY51RGInysFOTZhdgsC3feP+bqb5lzdGRv4paEQljtqWOQaw7hXg4wx6hYB93hiUdnapTl5145037wEc3qr061PFNlnWUdsyLgHY4YMxZFXLghd2mg8rqh73L5qeMN9kga/5+u/B4W6lX/+11EmsAF1oyrzUtefDP91JBTPJfFqJ6kP5onbS+BqMrZ7NEGtyRDdzfXZiLAwS7gB4YXkc/+Ysips63x2eLReXFaAtIW57dbf+0LbiHwP0UTEn8/uvfToSWtvS4jrV7VmQcESJaGNTCUMRCLe8kHgssBhujw79WA7Sfb4CVFG1NYXCXslFsRNGAgTV6yy+YsZ2AFJe/x8iUVc4EvupEsiioOmk0c6MdE6EgHOyqmULfLlWqoQtzZ3LOGJ7oRJUVUZzR5+yjINE9AbYuVPoYpQSta34dYB6CoyZhSR0Ku8M/1xuw/7nJS9TtWKeC2YZXwLYletj4KFEFK7muD0RqqSO1gqcF4NZRxS2dO4d/qFWrbJ1tFbhp2XJOtkjZRa+r/fvyzMHrXejTy+07+gftYT4RbeONmqBRun4HX2iqFpzo8QbqeP+yJ1k4O28mvkJO+y+3wPRnCbxF/cSkm0Z7pfMtkBQFYEgxvuUSsYHiGk8yKAAvs1+E9pWfIJBO4MKS8CZ/wHjzjn5MEQkRgAAAABJRU5ErkJggg=="},To3L:function(t,e,i){"use strict";var s=i("+E39"),a=i("lktj"),n=i("1kS7"),o=i("NpIQ"),l=i("sB3e"),r=i("MU5D"),c=Object.assign;t.exports=!c||i("S82l")(function(){var t={},e={},i=Symbol(),s="abcdefghijklmnopqrst";return t[i]=7,s.split("").forEach(function(t){e[t]=t}),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=s})?function(t,e){for(var i=l(t),c=arguments.length,d=1,v=n.f,u=o.f;c>d;)for(var _,f=r(arguments[d++]),m=v?a(f).concat(v(f)):a(f),h=m.length,p=0;h>p;)_=m[p++],s&&!u.call(f,_)||(i[_]=f[_]);return i}:c},V3tA:function(t,e,i){i("R4wc"),t.exports=i("FeBl").Object.assign},bqTm:function(t,e,i){var s;s=function(){"use strict";var t="@@InfiniteScroll",e=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},i=document.defaultView.getComputedStyle,s=function(t){return t===window?e(window):t.getBoundingClientRect().top+e(window)},a=function(t){for(var e=t.parentNode;e;){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},n=function(){if(!this.binded){this.binded=!0;var t,e,s,a,n,l,r,c,d=this,v=d.el,u=v.getAttribute("infinite-scroll-throttle-delay"),_=200;u&&(_=Number(d.vm[u]||u),(isNaN(_)||_<0)&&(_=200)),d.throttleDelay=_,d.scrollEventTarget=function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var s=i(e).overflowY;if("scroll"===s||"auto"===s)return e;e=e.parentNode}return window}(v),d.scrollListener=(t=o.bind(d),e=d.throttleDelay,c=function(){t.apply(l,r),a=s},function(){if(l=this,r=arguments,s=Date.now(),n&&(clearTimeout(n),n=null),a){var t=e-(s-a);t<0?c():n=setTimeout(function(){c()},t)}else c()}),d.scrollEventTarget.addEventListener("scroll",d.scrollListener),this.vm.$on("hook:beforeDestroy",function(){d.scrollEventTarget.removeEventListener("scroll",d.scrollListener)});var f=v.getAttribute("infinite-scroll-disabled"),m=!1;f&&(this.vm.$watch(f,function(t){d.disabled=t,!t&&d.immediateCheck&&o.call(d)}),m=Boolean(d.vm[f])),d.disabled=m;var h=v.getAttribute("infinite-scroll-distance"),p=0;h&&(p=Number(d.vm[h]||h),isNaN(p)&&(p=0)),d.distance=p;var g=v.getAttribute("infinite-scroll-immediate-check"),k=!0;g&&(k=Boolean(d.vm[g])),d.immediateCheck=k,k&&o.call(d);var y=v.getAttribute("infinite-scroll-listen-for-event");y&&d.vm.$on(y,function(){o.call(d)})}},o=function(t){var i=this.scrollEventTarget,a=this.el,n=this.distance;if(!0===t||!this.disabled){var o=e(i),l=o+function(t){return t===window?document.documentElement.clientHeight:t.clientHeight}(i),r=!1;if(i===a)r=i.scrollHeight-l<=n;else r=l+n>=s(a)-s(i)+a.offsetHeight+o;r&&this.expression&&this.expression()}},l={bind:function(e,i,s){e[t]={el:e,vm:s.context,expression:i.value};var o=arguments;e[t].vm.$on("hook:mounted",function(){e[t].vm.$nextTick(function(){a(e)&&n.call(e[t],o),e[t].bindTryCount=0;!function i(){e[t].bindTryCount>10||(e[t].bindTryCount++,a(e)?n.call(e[t],o):setTimeout(i,50))}()})})},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},r=function(t){t.directive("InfiniteScroll",l)};return window.Vue&&(window.infiniteScroll=l,Vue.use(r)),l.install=r,l},t.exports=s()},woOf:function(t,e,i){t.exports={default:i("V3tA"),__esModule:!0}},zPg3:function(t,e){}});