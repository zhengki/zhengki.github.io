"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2966],{66472:function(Oe,de,e){e.d(de,{A:function(){return t}});var p=e(55443),a=e(54256),S=e(75271),N=e(83059),_=e(20095),L=e(35576),U=e(52521),ee=e(89104),ve=e(93954),me=e(42670),K=e(23735),Q=e(27780),b=e(82187),ne=e.n(b),fe=e(93506),te=e(11325),I=e(80442),pe=function(d){return(0,L.Z)({},d.componentCls,{"&-title":{marginBlockEnd:d.marginXL,fontWeight:"bold"},"&-container":(0,L.Z)({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(d.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":(0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)({display:"block",width:"100%"},"".concat(d.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(d.componentCls,"-container"),{paddingInlineStart:16}),"".concat(d.antCls,"-space-item,").concat(d.antCls,"-form-item"),{width:"100%"}),"".concat(d.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function W(P){return(0,I.Xj)("ProFormGroup",function(d){var T=(0,p.Z)((0,p.Z)({},d),{},{componentCls:".".concat(P)});return[pe(T)]})}var u=e(52676),F=S.forwardRef(function(P,d){var T=S.useContext(fe.Z),i=T.groupProps,v=(0,p.Z)((0,p.Z)({},i),P),V=v.children,re=v.collapsible,oe=v.defaultCollapsed,H=v.style,Le=v.labelLayout,ye=v.title,k=ye===void 0?P.label:ye,Ce=v.tooltip,se=v.align,Se=se===void 0?"start":se,ae=v.direction,l=v.size,m=l===void 0?32:l,n=v.titleStyle,g=v.titleRender,c=v.spaceProps,z=v.extra,D=v.autoFocus,q=(0,ve.Z)(function(){return oe||!1},{value:P.collapsed,onChange:P.onCollapse}),Fe=(0,U.Z)(q,2),o=Fe[0],x=Fe[1],$=(0,S.useContext)(K.ZP.ConfigContext),X=$.getPrefixCls,Z=(0,te.zx)(P),A=Z.ColWrapper,ie=Z.RowWrapper,y=X("pro-form-group"),Pe=W(y),We=Pe.wrapSSR,B=Pe.hashId,Re=re&&(0,u.jsx)(ee.Z,{style:{marginInlineEnd:8},rotate:o?void 0:90}),le=(0,u.jsx)(me.G,{label:Re?(0,u.jsxs)("div",{children:[Re,k]}):k,tooltip:Ce}),G=(0,S.useCallback)(function(J){var Y=J.children;return(0,u.jsx)(Q.Z,(0,p.Z)((0,p.Z)({},c),{},{className:ne()("".concat(y,"-container ").concat(B),c==null?void 0:c.className),size:m,align:Se,direction:ae,style:(0,p.Z)({rowGap:0},c==null?void 0:c.style),children:Y}))},[Se,y,ae,B,m,c]),E=g?g(le,P):le,Ae=(0,S.useMemo)(function(){var J=[],Y=S.Children.toArray(V).map(function(j,ue){var O;return S.isValidElement(j)&&j!==null&&j!==void 0&&(O=j.props)!==null&&O!==void 0&&O.hidden?(J.push(j),null):ue===0&&S.isValidElement(j)&&D?S.cloneElement(j,(0,p.Z)((0,p.Z)({},j.props),{},{autoFocus:D})):j});return[(0,u.jsx)(ie,{Wrapper:G,children:Y},"children"),J.length>0?(0,u.jsx)("div",{style:{display:"none"},children:J}):null]},[V,ie,G,D]),ge=(0,U.Z)(Ae,2),R=ge[0],je=ge[1];return We((0,u.jsx)(A,{children:(0,u.jsxs)("div",{className:ne()(y,B,(0,L.Z)({},"".concat(y,"-twoLine"),Le==="twoLine")),style:H,ref:d,children:[je,(k||Ce||z)&&(0,u.jsx)("div",{className:"".concat(y,"-title ").concat(B).trim(),style:n,onClick:function(){x(!o)},children:z?(0,u.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[E,(0,u.jsx)("span",{onClick:function(Y){return Y.stopPropagation()},children:z})]}):E}),(0,u.jsx)("div",{style:{display:re&&o?"none":void 0},children:R})]})}))});F.displayName="ProForm-Group";var he=F,w=e(55130);function t(P){return(0,u.jsx)(N.I,(0,p.Z)({layout:"vertical",contentRender:function(T,i){return(0,u.jsxs)(u.Fragment,{children:[T,i]})}},P))}t.Group=he,t.useForm=a.Z.useForm,t.Item=w.Z,t.useWatch=a.Z.useWatch,t.ErrorList=a.Z.ErrorList,t.Provider=a.Z.Provider,t.useFormInstance=a.Z.useFormInstance,t.EditOrReadOnlyContext=_.A},46725:function(Oe,de,e){e.d(de,{U9:function(){return se},L0:function(){return ae},bg:function(){return k}});var p=e(35576),a=e(55443),S=e(94162),N=e(84964),_=e(35979),L=e(52521),U=e(38334),ee=e(37206),ve=e(52836),me=e(16643),K=e(57359),Q=e(65062),b=e(31914),ne=e(23735),fe=e(62228),te=e(23556),I=e(82773),pe=e(27780),W=e(54256),u=e(82187),F=e.n(u),he=e(81626),w=e(93954),t=e(75271),P=e(18051),d=e(4449),T=e(83059),i=e(52676),v=["onFinish","step","formRef","title","stepProps"];function V(l){var m=(0,t.useRef)(),n=(0,t.useContext)(k),g=(0,t.useContext)(se),c=(0,a.Z)((0,a.Z)({},l),g),z=c.onFinish,D=c.step,q=c.formRef,Fe=c.title,o=c.stepProps,x=(0,U.Z)(c,v);return(0,d.ET)(!x.submitter,"StepForm \u4E0D\u5305\u542B\u63D0\u4EA4\u6309\u94AE\uFF0C\u8BF7\u5728 StepsForm \u4E0A"),(0,t.useImperativeHandle)(q,function(){return m.current},[q==null?void 0:q.current]),(0,t.useEffect)(function(){if(c.name||c.step){var $=(c.name||c.step).toString();return n==null||n.regForm($,c),function(){n==null||n.unRegForm($)}}},[]),n&&n!==null&&n!==void 0&&n.formArrayRef&&(n.formArrayRef.current[D||0]=m),(0,i.jsx)(T.I,(0,a.Z)({formRef:m,onFinish:function(){var $=(0,N.Z)((0,S.Z)().mark(function X(Z){var A;return(0,S.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(x.name&&(n==null||n.onFormFinish(x.name,Z)),!z){y.next=9;break}return n==null||n.setLoading(!0),y.next=5,z==null?void 0:z(Z);case 5:return A=y.sent,A&&(n==null||n.next()),n==null||n.setLoading(!1),y.abrupt("return");case 9:n!=null&&n.lastStep||n==null||n.next();case 10:case"end":return y.stop()}},X)}));return function(X){return $.apply(this,arguments)}}(),onInit:function(X,Z){var A;m.current=Z,n&&n!==null&&n!==void 0&&n.formArrayRef&&(n.formArrayRef.current[D||0]=m),x==null||(A=x.onInit)===null||A===void 0||A.call(x,X,Z)},layout:"vertical"},(0,P.Z)(x,["layoutType","columns"])))}var re=V,oe=e(80442),H=function(m){return(0,p.Z)({},m.componentCls,{"&-container":{width:"max-content",minWidth:"420px",maxWidth:"100%",margin:"auto"},"&-steps-container":(0,p.Z)({maxWidth:"1160px",margin:"auto"},"".concat(m.antCls,"-steps-vertical"),{height:"100%"}),"&-step":{display:"none",marginBlockStart:"32px","&-active":{display:"block"},"> form":{maxWidth:"100%"}}})};function Le(l){return(0,oe.Xj)("StepsForm",function(m){var n=(0,a.Z)((0,a.Z)({},m),{},{componentCls:".".concat(l)});return[H(n)]})}var ye=["current","onCurrentChange","submitter","stepsFormRender","stepsRender","stepFormRender","stepsProps","onFinish","formProps","containerStyle","formRef","formMapRef","layoutRender"],k=t.createContext(void 0),Ce={horizontal:function(m){var n=m.stepsDom,g=m.formDom;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Q.Z,{gutter:{xs:8,sm:16,md:24},children:(0,i.jsx)(b.Z,{span:24,children:n})}),(0,i.jsx)(Q.Z,{gutter:{xs:8,sm:16,md:24},children:(0,i.jsx)(b.Z,{span:24,children:g})})]})},vertical:function(m){var n=m.stepsDom,g=m.formDom;return(0,i.jsxs)(Q.Z,{align:"stretch",wrap:!0,gutter:{xs:8,sm:16,md:24},children:[(0,i.jsx)(b.Z,{xxl:4,xl:6,lg:7,md:8,sm:10,xs:12,children:t.cloneElement(n,{style:{height:"100%"}})}),(0,i.jsx)(b.Z,{children:(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%"},children:g})})]})}},se=t.createContext(null);function Se(l){var m=(0,t.useContext)(ne.ZP.ConfigContext),n=m.getPrefixCls,g=n("pro-steps-form"),c=Le(g),z=c.wrapSSR,D=c.hashId,q=l.current,Fe=l.onCurrentChange,o=l.submitter,x=l.stepsFormRender,$=l.stepsRender,X=l.stepFormRender,Z=l.stepsProps,A=l.onFinish,ie=l.formProps,y=l.containerStyle,Pe=l.formRef,We=l.formMapRef,B=l.layoutRender,Re=(0,U.Z)(l,ye),le=(0,t.useRef)(new Map),G=(0,t.useRef)(new Map),E=(0,t.useRef)([]),Ae=(0,t.useState)([]),ge=(0,L.Z)(Ae,2),R=ge[0],je=ge[1],J=(0,t.useState)(!1),Y=(0,L.Z)(J,2),j=Y[0],ue=Y[1],O=(0,ee.YB)(),Je=(0,w.Z)(0,{value:l.current,onChange:l.onCurrentChange}),be=(0,L.Z)(Je,2),C=be[0],Me=be[1],$e=(0,t.useMemo)(function(){return Ce[(Z==null?void 0:Z.direction)||"horizontal"]},[Z==null?void 0:Z.direction]),Ee=(0,t.useMemo)(function(){return C===R.length-1},[R.length,C]),Ye=(0,t.useCallback)(function(r,s){G.current.has(r)||je(function(h){return[].concat((0,_.Z)(h),[r])}),G.current.set(r,s)},[]),Ue=(0,t.useCallback)(function(r){je(function(s){return s.filter(function(h){return h!==r})}),G.current.delete(r),le.current.delete(r)},[]);(0,t.useImperativeHandle)(We,function(){return E.current},[E.current]),(0,t.useImperativeHandle)(Pe,function(){var r;return(r=E.current[C||0])===null||r===void 0?void 0:r.current},[C,E.current]);var Ke=(0,t.useCallback)(function(){var r=(0,N.Z)((0,S.Z)().mark(function s(h,f){var Ze,De;return(0,S.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(le.current.set(h,f),!(!Ee||!A)){M.next=3;break}return M.abrupt("return");case 3:return ue(!0),Ze=ve.T.apply(void 0,[{}].concat((0,_.Z)(Array.from(le.current.values())))),M.prev=5,M.next=8,A(Ze);case 8:De=M.sent,De&&(Me(0),E.current.forEach(function(ke){var Ge;return(Ge=ke.current)===null||Ge===void 0?void 0:Ge.resetFields()})),M.next=15;break;case 12:M.prev=12,M.t0=M.catch(5),console.log(M.t0);case 15:return M.prev=15,ue(!1),M.finish(15);case 18:case"end":return M.stop()}},s,null,[[5,12,15,18]])}));return function(s,h){return r.apply(this,arguments)}}(),[Ee,A,ue,Me]),Ne=(0,t.useMemo)(function(){var r=(0,me.n)(fe.Z,"4.24.0")>-1,s=r?{items:R.map(function(h){var f=G.current.get(h);return(0,a.Z)({key:h,title:f==null?void 0:f.title},f==null?void 0:f.stepProps)})}:{};return(0,i.jsx)("div",{className:"".concat(g,"-steps-container ").concat(D).trim(),style:{maxWidth:Math.min(R.length*320,1160)},children:(0,i.jsx)(te.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},Z),s),{},{current:C,onChange:void 0,children:!r&&R.map(function(h){var f=G.current.get(h);return(0,i.jsx)(te.Z.Step,(0,a.Z)({title:f==null?void 0:f.title},f==null?void 0:f.stepProps),h)})}))})},[R,D,g,C,Z]),ce=(0,K.J)(function(){var r,s=E.current[C];(r=s.current)===null||r===void 0||r.submit()}),Ie=(0,K.J)(function(){C<1||Me(C-1)}),Te=(0,t.useMemo)(function(){return o!==!1&&(0,i.jsx)(I.ZP,(0,a.Z)((0,a.Z)({type:"primary",loading:j},o==null?void 0:o.submitButtonProps),{},{onClick:function(){var s;o==null||(s=o.onSubmit)===null||s===void 0||s.call(o),ce()},children:O.getMessage("stepsForm.next","\u4E0B\u4E00\u6B65")}),"next")},[O,j,ce,o]),ze=(0,t.useMemo)(function(){return o!==!1&&(0,i.jsx)(I.ZP,(0,a.Z)((0,a.Z)({},o==null?void 0:o.resetButtonProps),{},{onClick:function(){var s;Ie(),o==null||(s=o.onReset)===null||s===void 0||s.call(o)},children:O.getMessage("stepsForm.prev","\u4E0A\u4E00\u6B65")}),"pre")},[O,Ie,o]),Be=(0,t.useMemo)(function(){return o!==!1&&(0,i.jsx)(I.ZP,(0,a.Z)((0,a.Z)({type:"primary",loading:j},o==null?void 0:o.submitButtonProps),{},{onClick:function(){var s;o==null||(s=o.onSubmit)===null||s===void 0||s.call(o),ce()},children:O.getMessage("stepsForm.submit","\u63D0\u4EA4")}),"submit")},[O,j,ce,o]),Qe=(0,K.J)(function(){C>R.length-2||Me(C+1)}),xe=(0,t.useMemo)(function(){var r=[],s=C||0;if(s<1?R.length===1?r.push(Be):r.push(Te):s+1===R.length?r.push(ze,Be):r.push(ze,Te),r=r.filter(t.isValidElement),o&&o.render){var h,f={form:(h=E.current[C])===null||h===void 0?void 0:h.current,onSubmit:ce,step:C,onPre:Ie};return o.render(f,r)}return o&&(o==null?void 0:o.render)===!1?null:r},[R.length,Te,ce,ze,Ie,C,Be,o]),Ve=(0,t.useMemo)(function(){return(0,he.Z)(l.children).map(function(r,s){var h=r.props,f=h.name||"".concat(s),Ze=C===s,De=Ze?{contentRender:X,submitter:!1}:{};return(0,i.jsx)("div",{className:F()("".concat(g,"-step"),D,(0,p.Z)({},"".concat(g,"-step-active"),Ze)),children:(0,i.jsx)(se.Provider,{value:(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},De),ie),h),{},{name:f,step:s}),children:r})},f)})},[ie,D,g,l.children,C,X]),He=(0,t.useMemo)(function(){return $?$(R.map(function(r){var s;return{key:r,title:(s=G.current.get(r))===null||s===void 0?void 0:s.title}}),Ne):Ne},[R,Ne,$]),Xe=(0,t.useMemo)(function(){return(0,i.jsxs)("div",{className:"".concat(g,"-container ").concat(D).trim(),style:y,children:[Ve,x?null:(0,i.jsx)(pe.Z,{children:xe})]})},[y,Ve,D,g,x,xe]),we=(0,t.useMemo)(function(){var r={stepsDom:He,formDom:Xe};return x?x(B?B(r):$e(r),xe):B?B(r):$e(r)},[He,Xe,$e,x,xe,B]);return z((0,i.jsx)("div",{className:F()(g,D),children:(0,i.jsx)(W.Z.Provider,(0,a.Z)((0,a.Z)({},Re),{},{children:(0,i.jsx)(k.Provider,{value:{loading:j,setLoading:ue,regForm:Ye,keyArray:R,next:Qe,formArrayRef:E,formMapRef:G,lastStep:Ee,unRegForm:Ue,onFormFinish:Ke},children:we})}))}))}function ae(l){return(0,i.jsx)(ee._Y,{needDeps:!0,children:(0,i.jsx)(Se,(0,a.Z)({},l))})}ae.StepForm=re,ae.useForm=W.Z.useForm},42670:function(Oe,de,e){e.d(de,{G:function(){return pe}});var p=e(55443),a=e(35576),S=e(55824),N=e(75271),_=e(26598),L=e(65522),U=function(u,F){return N.createElement(L.Z,(0,S.Z)({},u,{ref:F,icon:_.Z}))},ee=N.forwardRef(U),ve=ee,me=e(23735),K=e(84650),Q=e(82187),b=e.n(Q),ne=e(80442),fe=function(u){return(0,a.Z)({},u.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:u.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:u.colorTextSecondary,fontWeight:"normal",fontSize:u.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function te(W){return(0,ne.Xj)("LabelIconTip",function(u){var F=(0,p.Z)((0,p.Z)({},u),{},{componentCls:".".concat(W)});return[fe(F)]})}var I=e(52676),pe=N.memo(function(W){var u=W.label,F=W.tooltip,he=W.ellipsis,w=W.subTitle,t=(0,N.useContext)(me.ZP.ConfigContext),P=t.getPrefixCls,d=P("pro-core-label-tip"),T=te(d),i=T.wrapSSR,v=T.hashId;if(!F&&!w)return(0,I.jsx)(I.Fragment,{children:u});var V=typeof F=="string"||N.isValidElement(F)?{title:F}:F,re=(V==null?void 0:V.icon)||(0,I.jsx)(ve,{});return i((0,I.jsxs)("div",{className:b()(d,v),onMouseDown:function(H){return H.stopPropagation()},onMouseLeave:function(H){return H.stopPropagation()},onMouseMove:function(H){return H.stopPropagation()},children:[(0,I.jsx)("div",{className:b()("".concat(d,"-title"),v,(0,a.Z)({},"".concat(d,"-title-ellipsis"),he)),children:u}),w&&(0,I.jsx)("div",{className:"".concat(d,"-subtitle ").concat(v).trim(),children:w}),F&&(0,I.jsx)(K.Z,(0,p.Z)((0,p.Z)({},V),{},{children:(0,I.jsx)("span",{className:"".concat(d,"-icon ").concat(v).trim(),children:re})}))]}))})}}]);
