{"version":3,"sources":["webpack:///./src/views/login/code/index.vue?7497","webpack:///./src/components/Verification.vue?a517","webpack:///src/components/Verification.vue","webpack:///./src/components/Verification.vue?8ce2","webpack:///./src/components/Verification.vue","webpack:///src/views/login/code/index.vue","webpack:///./src/views/login/code/index.vue?0cea","webpack:///./src/views/login/code/index.vue","webpack:///./node_modules/vant/es/utils/router.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./src/views/login/code/index.vue?0a3e","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/components/Verification.vue?425e","webpack:///./node_modules/vant/es/field/style/index.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","mobile","on","onSubmit","time","getCode","staticRenderFns","_l","item","index","key","ref","refInFor","attrs","type","length","$event","input","focus","keydown","model","value","valueArr","callback","$$v","$set","expression","props","Number","default","String","data","computed","get","split","set","val","join","watch","debouncedGetAnswer","created","methods","$refs","slice","e","keyCode","splice","$nextTick","then","ok","$emit","component","components","focused","getTime","username","login_platform","verify_code","nickname","openid","unionid","header","headimgurl","sex","res","success","localStorage","setItem","token","user_id","JSON","stringify","userInfo","scene","clearInterval","timer","setInterval","route","router","config","to","url","replace","promise","catch","err","name","location","href","functionalRoute","context","parent","$router","routeProps","Boolean","Object","fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","undefined","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","call","regexp","indexOf","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","push","matchStr","accumulatedResult","nextSourcePosition","i","matched","position","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","target","proto","forced","separator","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn","arguments"],"mappings":"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","file":"js/chunk-b94d9d88.fd94c076cb167957d01c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-top\"},[_c('h3',[_vm._v(\"输入4位验证码\")]),_c('div',{staticClass:\"tip\"},[_vm._v(\"验证码已发送至 \"+_vm._s(_vm.mobile))])]),_c('div',{staticClass:\"input-box\"},[_c('Verification',{on:{\"ok\":_vm.onSubmit}})],1),(_vm.time)?_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.time)+\"秒后重新获取\")]):_c('div',{staticClass:\"time\",on:{\"click\":_vm.getCode}},[_vm._v(\"重新获取\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex ac center\"},_vm._l((_vm.length),function(item,index){return _c('van-field',{key:index,ref:(\"input\" + index),refInFor:true,staticClass:\"custom-input\",attrs:{\"name\":(\"input\" + index),\"type\":_vm.type,\"maxlength\":_vm.length - index,\"autofocus\":!index},on:{\"input\":function($event){return _vm.input(index, $event)},\"focus\":_vm.focus,\"keydown\":function($event){return _vm.keydown(index, $event)}},model:{value:(_vm.valueArr[index]),callback:function ($$v) {_vm.$set(_vm.valueArr, index, $$v)},expression:\"valueArr[index]\"}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"flex ac center\">\r\n    <van-field\r\n      v-for=\"(item, index) in length\"\r\n      v-model=\"valueArr[index]\"\r\n      :ref=\"`input${index}`\"\r\n      :name=\"`input${index}`\"\r\n      class=\"custom-input\"\r\n      :key=\"index\"\r\n      :type=\"type\"\r\n      :maxlength=\"length - index\"\r\n      :autofocus=\"!index\"\r\n      @input=\"input(index, $event)\"\r\n      @focus=\"focus\"\r\n      @keydown=\"keydown(index, $event)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport { Field } from \"vant\";\r\nimport debounce from \"lodash/debounce\";\r\n\r\nVue.use(Field);\r\n\r\nexport default {\r\n  props: {\r\n    length: {\r\n      type: Number,\r\n      default: 4\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"tel\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      value: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    valueArr: {\r\n      get() {\r\n        const value = this.value || \"\";\r\n        return value.split(\"\");\r\n      },\r\n      set(val) {\r\n        this.value = val.join(\"\");\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    valueArr(val) {\r\n      if (val.length === this.length) {\r\n        this.debouncedGetAnswer();\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.debouncedGetAnswer = debounce(this.ok, 500);\r\n  },\r\n  methods: {\r\n    // 聚焦\r\n    focus() {\r\n      if (this.value) {\r\n        const length = this.value.length;\r\n        this.$refs[\r\n          `input${length === this.length ? this.length - 1 : length}`\r\n        ][0].focus();\r\n        return;\r\n      }\r\n      this.$refs[`input0`][0].focus();\r\n    },\r\n    // 输入\r\n    input(index, val) {\r\n      let value = this.value;\r\n      if (val.length === 1) {\r\n        value += val;\r\n        if (value && value.length > this.length) {\r\n          value = value.slice(0, this.length);\r\n        }\r\n        this.value = value;\r\n        if (index < this.length - 1) {\r\n          this.$refs[`input${index + 1}`][0].focus();\r\n        }\r\n      } else {\r\n        // 复制粘贴\r\n        const valueArr = this.valueArr\r\n          .map(item => item)\r\n          .concat(val.split(\"\"))\r\n          .join(\"\")\r\n          .slice(0, this.length)\r\n          .split(\"\")\r\n          .filter(item => item);\r\n        this.valueArr = valueArr;\r\n        this.$refs[`input${valueArr.length - 1}`][0].focus();\r\n      }\r\n    },\r\n    // 删除\r\n    keydown(index, e) {\r\n      if (e.keyCode === 8) {\r\n        const valueArr = this.valueArr.map(item => item);\r\n        if (valueArr[index]) {\r\n          valueArr.splice(index, 1);\r\n          this.valueArr = valueArr;\r\n        } else {\r\n          if (index > 0) {\r\n            valueArr.splice(index - 1, 1);\r\n            this.valueArr = valueArr;\r\n            this.$nextTick().then(() => {\r\n              this.$refs[`input${index - 1}`][0].focus();\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n    ok() {\r\n      this.$emit(\"ok\", this.value);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.custom-input {\r\n  width: 50px;\r\n  margin-right: 10px;\r\n  padding: 8px 0;\r\n  border: none;\r\n  border-bottom: 2px solid #d8d8d8;\r\n  input{\r\n    text-align: center\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Verification.vue?vue&type=template&id=039ee50f&\"\nimport script from \"./Verification.vue?vue&type=script&lang=js&\"\nexport * from \"./Verification.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Verification.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"login\">\r\n    <div class=\"login-top\">\r\n      <h3>输入4位验证码</h3>\r\n      <div class=\"tip\">验证码已发送至 {{mobile}}</div>\r\n    </div>\r\n    <div class=\"input-box\">\r\n      <Verification @ok=\"onSubmit\"></Verification>\r\n    </div>\r\n    <div v-if=\"time\" class=\"time\">{{time}}秒后重新获取</div>\r\n    <div v-else class=\"time\" @click=\"getCode\">重新获取</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getVerificationCode, userLogin, bindMobile } from \"@/api\";\r\nimport Verification from \"@/components/Verification\";\r\n\r\nexport default {\r\n  components: { Verification },\r\n  data() {\r\n    return {\r\n      mobile: \"\",\r\n      focused: false,\r\n      time: 60\r\n    };\r\n  },\r\n  created() {\r\n    const { mobile } = this.$route.query;\r\n    this.mobile = mobile;\r\n    this.getTime();\r\n  },\r\n  methods: {\r\n    onSubmit(value) {\r\n      if (value && value.length === 4) {\r\n        const { type } = this.$route.query;\r\n        if (type === \"bind\") {\r\n          const wxInfo = JSON.parse(localStorage.getItem(\"wxInfo\"));\r\n          const { nickname, openid, unionid, headimgurl, sex } = wxInfo;\r\n          const params = {\r\n            username: this.mobile,\r\n            login_platform: \"h5\",\r\n            verify_code: value,\r\n            nickname,\r\n            openid,\r\n            unionid,\r\n            header: headimgurl,\r\n            sex,\r\n          };\r\n          bindMobile(params).then(res => {\r\n            if (res.success) {\r\n              const data = res.data;\r\n              localStorage.setItem(\"token\", data.token);\r\n              localStorage.setItem(\"user_id\", data.user_id);\r\n              localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n              this.$router.replace(\"/home\");\r\n            }\r\n          });\r\n        } else {\r\n          const params = {\r\n            username: this.mobile,\r\n            login_platform: \"h5\",\r\n            verify_code: value\r\n          };\r\n          userLogin(params).then(res => {\r\n            if (res.success) {\r\n              const userInfo = res.data;\r\n              localStorage.setItem(\"token\", userInfo.token);\r\n              localStorage.setItem(\"user_id\", userInfo.user_id);\r\n              localStorage.setItem(\"userInfo\", JSON.stringify(userInfo));\r\n              this.$router.replace(\"/home\");\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    // 重新获取\r\n    getCode() {\r\n      const params = {\r\n        mobile: this.mobile,\r\n        scene: 0\r\n      };\r\n      getVerificationCode(params).then(async res => {\r\n        if (res.success) {\r\n          this.getTime();\r\n        }\r\n      });\r\n    },\r\n    // 倒计时\r\n    getTime() {\r\n      clearInterval(this.timer);\r\n      this.time = 60;\r\n      this.timer = setInterval(() => {\r\n        if (this.time === 0) {\r\n          clearInterval(this.timer);\r\n          return;\r\n        }\r\n        this.time -= 1;\r\n      }, 1000);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.login {\r\n  height: 100%;\r\n  background: #fff;\r\n  overflow: hidden;\r\n}\r\n\r\n.login-top {\r\n  width: 335px;\r\n  margin: 40px 0 0 20px;\r\n  h3 {\r\n    color: #282828;\r\n    font-size: 19px;\r\n    line-height: 27px;\r\n    margin: 0;\r\n  }\r\n}\r\n\r\n.tip {\r\n  color: #282828;\r\n  font-size: 14px;\r\n  line-height: 20px;\r\n  margin-top: 8px;\r\n}\r\n\r\n.input-box {\r\n  width: 300px;\r\n  position: relative;\r\n  margin: 40px auto 33px;\r\n  li {\r\n    border-bottom: 1Px solid #d8d8d8;\r\n  }\r\n}\r\n\r\n.custom-input {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  opacity: 0;\r\n  color: #fff;\r\n}\r\n\r\n.time {\r\n  color: #3c47ce;\r\n  font-size: 14px;\r\n  margin-left: 40px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7cdbddde&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7cdbddde&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cdbddde\",\n  null\n  \n)\n\nexport default component.exports","/**\n * Vue Router support\n */\nexport function route(router, config) {\n  var to = config.to,\n      url = config.url,\n      replace = config.replace;\n\n  if (to && router) {\n    var promise = router[replace ? 'replace' : 'push'](to);\n    /* istanbul ignore else */\n\n    if (promise && promise.catch) {\n      promise.catch(function (err) {\n        /* istanbul ignore if */\n        if (err && err.name !== 'NavigationDuplicated') {\n          throw err;\n        }\n      });\n    }\n  } else if (url) {\n    replace ? location.replace(url) : location.href = url;\n  }\n}\nexport function functionalRoute(context) {\n  route(context.parent && context.parent.$router, context.props);\n}\nexport var routeProps = {\n  url: String,\n  replace: Boolean,\n  to: [String, Object]\n};","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7cdbddde&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7cdbddde&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=style&index=0&lang=less&\"","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../cell/index.css';\nimport '../index.css';","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}