{"version":3,"sources":["webpack:///./src/components/InfiniteList.vue?04b2","webpack:///./node_modules/vant/es/list/index.js","webpack:///src/components/InfiniteList.vue","webpack:///./src/components/InfiniteList.vue?70ef","webpack:///./src/components/InfiniteList.vue","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/components/WholeData.vue?ce1e","webpack:///./src/assets/search.png","webpack:///./src/components/WholeData.vue?d64b","webpack:///src/components/WholeData.vue","webpack:///./src/components/WholeData.vue?5332","webpack:///./src/components/WholeData.vue","webpack:///./src/components/TimeSearch.vue?901d","webpack:///./node_modules/vant/es/popup/index.js","webpack:///src/components/TimeSearch.vue","webpack:///./src/components/TimeSearch.vue?eb4b","webpack:///./src/components/TimeSearch.vue","webpack:///./src/views/goods/detail/index.vue?ac33","webpack:///./src/assets/bottom.png","webpack:///./src/components/TimeSearch.vue?338b","webpack:///./src/views/goods/detail/index.vue?b323","webpack:///src/views/goods/detail/index.vue","webpack:///./src/views/goods/detail/index.vue?c314","webpack:///./src/views/goods/detail/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","finished","immediateCheck","finishedText","error","on","$event","getData","model","value","callback","$$v","loading","expression","_t","list","staticRenderFns","_createNamespace","create","createComponent","bem","t","mixins","bind","scroller","$el","check","prop","props","Boolean","errorText","String","loadingText","type","default","offset","Number","direction","data","innerLoading","updated","mounted","watch","methods","_this","$nextTick","scrollerRect","el","getBoundingClientRect","top","bottom","innerHeight","scrollerHeight","isReachEdge","placeholderRect","$refs","placeholder","$emit","clickErrorText","genLoading","h","slots","genFinishedText","text","genErrorText","arguments","Placeholder","api","required","params","Object","formatData","Function","current_page","last_page","page","computed","length","loadMore","resetData","then","component","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","STRICT_METHOD","target","proto","forced","separator","call","undefined","module","exports","staticClass","_v","_s","title","onClick","_e","_l","item","index","key","class","name","nums","Array","showBtn","ref","tabs","tabChange","onSearch","timeStr","time_type","showDate","startTimeStr","endTimeStr","confirm","show","pickerValue","dateConfirm","round","duration","closeable","transition","safeAreaInsetBottom","closeIcon","closeIconPosition","position","overlay","closeOnClickOverlay","beforeCreate","createEmitter","eventName","event","onOpened","onClosed","_bem","shouldRender","isCenter","transitionName","style","close","showSearch","components","start_time","end_time","property","Date","split","created","tab","active","p","getParams","$toast","timeChange","toSearch","toGoods","goods","goods_id","original_img","goods_name","toggleSort","order","types","listParams","scopedSlots","_u","fn","slotProps","head_pic","_f","nickname","sale_num","sale_money","refund_num","refund_money","getGoodsDetail","$store","dispatch","isSearch","res","success","$router","go","push","goodsVisible","location","href","url"],"mappings":"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","file":"js/chunk-7f49c708.62eb8c28012c7a15996c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-list',{attrs:{\"finished\":_vm.finished,\"immediate-check\":_vm.immediateCheck,\"finished-text\":_vm.finishedText,\"error-text\":\"请求失败，点击重新加载\",\"error\":_vm.error},on:{\"update:error\":function($event){_vm.error=$event},\"load\":_vm.getData},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',[_vm._t(\"default\",null,{\"list\":_vm.list})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Utils\nimport { createNamespace } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { getScroller } from '../utils/dom/scroll'; // Mixins\n\nimport { BindEventMixin } from '../mixins/bind-event'; // Components\n\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('list'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport default createComponent({\n  mixins: [BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.check);\n  })],\n  model: {\n    prop: 'loading'\n  },\n  props: {\n    error: Boolean,\n    loading: Boolean,\n    finished: Boolean,\n    errorText: String,\n    loadingText: String,\n    finishedText: String,\n    immediateCheck: {\n      type: Boolean,\n      default: true\n    },\n    offset: {\n      type: [Number, String],\n      default: 300\n    },\n    direction: {\n      type: String,\n      default: 'down'\n    }\n  },\n  data: function data() {\n    return {\n      // use sync innerLoading state to avoid repeated loading in some edge cases\n      innerLoading: this.loading\n    };\n  },\n  updated: function updated() {\n    this.innerLoading = this.loading;\n  },\n  mounted: function mounted() {\n    if (this.immediateCheck) {\n      this.check();\n    }\n  },\n  watch: {\n    loading: 'check',\n    finished: 'check'\n  },\n  methods: {\n    // @exposed-api\n    check: function check() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        if (_this.innerLoading || _this.finished || _this.error) {\n          return;\n        }\n\n        var el = _this.$el,\n            scroller = _this.scroller,\n            offset = _this.offset,\n            direction = _this.direction;\n        var scrollerRect;\n\n        if (scroller.getBoundingClientRect) {\n          scrollerRect = scroller.getBoundingClientRect();\n        } else {\n          scrollerRect = {\n            top: 0,\n            bottom: scroller.innerHeight\n          };\n        }\n\n        var scrollerHeight = scrollerRect.bottom - scrollerRect.top;\n        /* istanbul ignore next */\n\n        if (!scrollerHeight || isHidden(el)) {\n          return false;\n        }\n\n        var isReachEdge = false;\n\n        var placeholderRect = _this.$refs.placeholder.getBoundingClientRect();\n\n        if (direction === 'up') {\n          isReachEdge = scrollerRect.top - placeholderRect.top <= offset;\n        } else {\n          isReachEdge = placeholderRect.bottom - scrollerRect.bottom <= offset;\n        }\n\n        if (isReachEdge) {\n          _this.innerLoading = true;\n\n          _this.$emit('input', true);\n\n          _this.$emit('load');\n        }\n      });\n    },\n    clickErrorText: function clickErrorText() {\n      this.$emit('update:error', false);\n      this.check();\n    },\n    genLoading: function genLoading() {\n      var h = this.$createElement;\n\n      if (this.innerLoading && !this.finished) {\n        return h(\"div\", {\n          \"class\": bem('loading'),\n          \"key\": \"loading\"\n        }, [this.slots('loading') || h(Loading, {\n          \"attrs\": {\n            \"size\": \"16\"\n          }\n        }, [this.loadingText || t('loading')])]);\n      }\n    },\n    genFinishedText: function genFinishedText() {\n      var h = this.$createElement;\n\n      if (this.finished) {\n        var text = this.slots('finished') || this.finishedText;\n\n        if (text) {\n          return h(\"div\", {\n            \"class\": bem('finished-text')\n          }, [text]);\n        }\n      }\n    },\n    genErrorText: function genErrorText() {\n      var h = this.$createElement;\n\n      if (this.error) {\n        var text = this.slots('error') || this.errorText;\n\n        if (text) {\n          return h(\"div\", {\n            \"on\": {\n              \"click\": this.clickErrorText\n            },\n            \"class\": bem('error-text')\n          }, [text]);\n        }\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var Placeholder = h(\"div\", {\n      \"ref\": \"placeholder\",\n      \"class\": bem('placeholder')\n    });\n    return h(\"div\", {\n      \"class\": bem(),\n      \"attrs\": {\n        \"role\": \"feed\",\n        \"aria-busy\": this.innerLoading\n      }\n    }, [this.direction === 'down' ? this.slots() : Placeholder, this.genLoading(), this.genFinishedText(), this.genErrorText(), this.direction === 'up' ? this.slots() : Placeholder]);\n  }\n});","<template>\r\n  <van-list\r\n    v-model=\"loading\"\r\n    :finished=\"finished\"\r\n    :immediate-check=\"immediateCheck\"\r\n    :finished-text=\"finishedText\"\r\n    error-text=\"请求失败，点击重新加载\"\r\n    :error.sync=\"error\"\r\n    @load=\"getData\"\r\n  >\r\n    <div>\r\n      <slot :list=\"list\"></slot>\r\n    </div>\r\n  </van-list>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport { List } from \"vant\";\r\nimport { getList } from \"@/api\";\r\n\r\nVue.use(List);\r\n\r\nexport default {\r\n  props: {\r\n    immediateCheck: {\r\n      // 是否在初始化时立即执行滚动位置检查, true会立即请求数据\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    api: {\r\n      // 列表api接口\r\n      type: String,\r\n      default: \"\",\r\n      required: true\r\n    },\r\n    params: {\r\n      // 列表请求参数  不需要分页参数page\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    formatData: {\r\n      // 格式化列表返回，需要把分页相关参数返回\r\n      type: Function,\r\n      default: res => {\r\n        const { current_page, last_page, data } = res;\r\n        return {\r\n          current_page,\r\n          last_page,\r\n          data\r\n        };\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      page: this.immediateCheck ? 0 : 1,\r\n      list: [], // 列表\r\n      loading: false, // 列表loading\r\n      finished: false, // 列表到底了\r\n      error: false // 请求出错\r\n    };\r\n  },\r\n  computed: {\r\n    finishedText() {\r\n      // 列表底部文案\r\n      return this.page === 1 && !this.list.length ? \"暂无数据~\" : \"已经到底了~\";\r\n    }\r\n  },\r\n  methods: {\r\n    // 数据\r\n    getData(loadMore = true) {\r\n      this.loading = true;\r\n      const params = {\r\n        ...this.params,\r\n        page: loadMore ? this.page + 1 : this.page\r\n      };\r\n      getList(this.api, params, false)\r\n        .then(res => {\r\n          this.loading = false;\r\n          if (res.success) {\r\n            this.error = false;\r\n            const pageData = this.formatData(res.data);\r\n            const { data, current_page, last_page } = pageData;\r\n            this.page = loadMore ? this.page + 1 : this.page;\r\n            this.list = loadMore ? this.list.concat(data) : data;\r\n            this.finished = !last_page || current_page === last_page;\r\n          } else {\r\n            this.error = true;\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.loading = false;\r\n          this.error = true;\r\n        });\r\n    },\r\n    // 重置分页\r\n    resetData() {\r\n      this.$nextTick().then(() => {\r\n        this.page = 1;\r\n        this.getData(false);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfiniteList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfiniteList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InfiniteList.vue?vue&type=template&id=21cdc936&\"\nimport script from \"./InfiniteList.vue?vue&type=script&lang=js&\"\nexport * from \"./InfiniteList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WholeData.vue?vue&type=style&index=0&id=f921132c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WholeData.vue?vue&type=style&index=0&id=f921132c&lang=less&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"whole\"},[_c('div',{staticClass:\"title flex ac\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),(_vm.showBtn)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.onClick}},[_vm._v(\"数据说明\")]):_vm._e()]),_c('div',{staticClass:\"nums flex ac js text-center\"},_vm._l((_vm.nums),function(item,index){return _c('div',{key:index,staticClass:\"num-item\",class:{item: index === 1}},[_c('div',[_vm._v(_vm._s(item.name))]),_c('div',[_vm._v(_vm._s(item.value))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"whole\">\r\n    <div class=\"title flex ac\">\r\n      {{title}}\r\n      <div v-if='showBtn' class=\"btn\" @click=\"onClick\">数据说明</div>\r\n    </div>\r\n    <div class=\"nums flex ac js text-center\">\r\n      <div v-for=\"(item, index) in nums\" :key=\"index\" class=\"num-item\" :class=\"{item: index === 1}\">\r\n        <div>{{item.name}}</div>\r\n        <div>{{item.value}}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    nums: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"整体数据\"\r\n    },\r\n    showBtn: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  methods: {\r\n    onClick() {\r\n      this.$emit('showModal')\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.whole {\r\n  box-sizing: border-box;\r\n  width: 349px;\r\n  height: 114px;\r\n  margin: 10px auto;\r\n  background: linear-gradient(\r\n    360deg,\r\n    rgba(254, 250, 243, 1) 0%,\r\n    rgba(255, 225, 202, 1) 100%\r\n  );\r\n  box-shadow: 0px 0px 4px 0px rgba(193, 193, 193, 0.5);\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n}\r\n\r\n.title {\r\n  color: #282828;\r\n  font-size: 16px;\r\n  line-height: 23px;\r\n  margin: 10px 10px 20px;\r\n}\r\n\r\n.nums {\r\n  margin: 0 10px;\r\n}\r\n\r\n.num-item {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  // &::after {\r\n  //   content: \"\";\r\n  //   display: inline-block;\r\n  //   width: 1px;\r\n  //   height: 24px;\r\n  //   background: rgba(216, 216, 216, 1);\r\n  //   position: absolute;\r\n  //   top: 50%;\r\n  //   right: 0;\r\n  //   transform: translateY(-50%);\r\n  // }\r\n  // &:first-child {\r\n  //   width: 30%;\r\n  // }\r\n  // &:nth-child(2) {\r\n  //   width: 40%;\r\n  //   padding-left: 30px;\r\n  // }\r\n  // &:nth-child(3) {\r\n  //   width: 30%;\r\n  //   padding-left: 30px;\r\n  // }\r\n  // &:last-child::after {\r\n  //   display: none;\r\n  // }\r\n  div:first-child {\r\n    color: #666;\r\n    font-size: 12px;\r\n    line-height: 17px;\r\n    margin-bottom: 2px;\r\n  }\r\n  div:last-child {\r\n    color: #282828;\r\n    font-size: 16px;\r\n    line-height: 23px;\r\n    font-weight: 500;\r\n  }\r\n}\r\n\r\n.btn {\r\n  width: 60px;\r\n  height: 20px;\r\n  line-height: 20px;\r\n  text-align: center;\r\n  font-size: 11px;\r\n  color: #fff;\r\n  background: rgba(232, 65, 20, 1);\r\n  border-radius: 10px;\r\n  margin-left: 8px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WholeData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WholeData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WholeData.vue?vue&type=template&id=f921132c&scoped=true&\"\nimport script from \"./WholeData.vue?vue&type=script&lang=js&\"\nexport * from \"./WholeData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WholeData.vue?vue&type=style&index=0&id=f921132c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f921132c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"tab-box\"},[_c('Tabs',{ref:\"tab\",staticClass:\"search-tabs\",attrs:{\"tabs\":_vm.tabs,\"swipeThreshold\":\"6\",\"lineWidth\":\"1.41rem\"},on:{\"tabChange\":_vm.tabChange}},[(_vm.showSearch)?_c('img',{staticClass:\"search\",attrs:{\"src\":require('@/assets/search.png'),\"alt\":\"\"},on:{\"click\":_vm.onSearch}}):_vm._e()])],1),_c('div',{staticClass:\"time-desc flex\"},[(_vm.timeStr)?_c('div',{staticClass:\"item flex ac js\"},[_c('span',[_vm._v(\"数据统计日期：\"+_vm._s(_vm.timeStr))]),(_vm.time_type === 4 && _vm.timeStr)?_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.timeStr = ''}}},[_vm._v(\"修改时间\")]):_vm._e()],1):_c('div',{staticClass:\"item flex ac js\"},[_c('div',{staticClass:\"item flex ac\"},[_c('div',{staticClass:\"time text-center\",on:{\"click\":function($event){return _vm.showDate('start_time')}}},[_vm._v(_vm._s(_vm.startTimeStr))]),_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"time text-center\",on:{\"click\":function($event){return _vm.showDate('end_time')}}},[_vm._v(_vm._s(_vm.endTimeStr))])]),_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"small\",\"color\":\"#E84114\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\")])],1)]),_c('van-popup',{attrs:{\"position\":\"bottom\",\"close-on-click-overlay\":false,\"safe-area-inset-bottom\":\"\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.show)?_c('DatePicker',{attrs:{\"value\":_vm.pickerValue},on:{\"cancel\":function($event){_vm.show = false},\"confirm\":_vm.dateConfirm}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { createNamespace, isDef } from '../utils';\nimport { PopupMixin } from '../mixins/popup';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('popup'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    round: Boolean,\n    duration: [Number, String],\n    closeable: Boolean,\n    transition: String,\n    safeAreaInsetBottom: Boolean,\n    closeIcon: {\n      type: String,\n      default: 'cross'\n    },\n    closeIconPosition: {\n      type: String,\n      default: 'top-right'\n    },\n    position: {\n      type: String,\n      default: 'center'\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    var _this = this;\n\n    var createEmitter = function createEmitter(eventName) {\n      return function (event) {\n        return _this.$emit(eventName, event);\n      };\n    };\n\n    this.onClick = createEmitter('click');\n    this.onOpened = createEmitter('opened');\n    this.onClosed = createEmitter('closed');\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return;\n    }\n\n    var round = this.round,\n        position = this.position,\n        duration = this.duration;\n    var isCenter = position === 'center';\n    var transitionName = this.transition || (isCenter ? 'van-fade' : \"van-popup-slide-\" + position);\n    var style = {};\n\n    if (isDef(duration)) {\n      var key = isCenter ? 'animationDuration' : 'transitionDuration';\n      style[key] = duration + \"s\";\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": transitionName\n      },\n      \"on\": {\n        \"afterEnter\": this.onOpened,\n        \"afterLeave\": this.onClosed\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"style\": style,\n      \"class\": bem((_bem = {\n        round: round\n      }, _bem[position] = position, _bem['safe-area-inset-bottom'] = this.safeAreaInsetBottom, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots(), this.closeable && h(Icon, {\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\",\n        \"name\": this.closeIcon\n      },\n      \"class\": bem('close-icon', this.closeIconPosition),\n      \"on\": {\n        \"click\": this.close\n      }\n    })])]);\n  }\n});","<template>\r\n  <div>\r\n    <div class=\"tab-box\">\r\n      <Tabs\r\n        ref=\"tab\"\r\n        class=\"search-tabs\"\r\n        :tabs=\"tabs\"\r\n        swipeThreshold=\"6\"\r\n        lineWidth=\"1.41rem\"\r\n        @tabChange=\"tabChange\"\r\n      >\r\n        <img\r\n          v-if=\"showSearch\"\r\n          class=\"search\"\r\n          :src=\"require('@/assets/search.png')\"\r\n          alt\r\n          @click=\"onSearch\"\r\n        />\r\n      </Tabs>\r\n    </div>\r\n    <div class=\"time-desc flex\">\r\n      <div v-if=\"timeStr\" class=\"item flex ac js\">\r\n        <span>数据统计日期：{{timeStr}}</span>\r\n        <van-button\r\n          v-if=\"time_type === 4 && timeStr\"\r\n          type=\"danger\"\r\n          size=\"small\"\r\n          @click=\"timeStr = ''\"\r\n        >修改时间</van-button>\r\n      </div>\r\n      <div v-else class=\"item flex ac js\">\r\n        <div class=\"item flex ac\">\r\n          <div class=\"time text-center\" @click=\"showDate('start_time')\">{{startTimeStr}}</div>\r\n          <div class=\"line\"></div>\r\n          <div class=\"time text-center\" @click=\"showDate('end_time')\">{{endTimeStr}}</div>\r\n        </div>\r\n        <van-button type=\"danger\" size=\"small\" color=\"#E84114\" @click=\"confirm\">确定</van-button>\r\n      </div>\r\n    </div>\r\n    <van-popup\r\n      v-model=\"show\"\r\n      position=\"bottom\"\r\n      :close-on-click-overlay=\"false\"\r\n      safe-area-inset-bottom\r\n    >\r\n      <DatePicker v-if=\"show\" :value=\"pickerValue\" @cancel=\"show = false\" @confirm=\"dateConfirm\" />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport Vue from \"vue\";\r\nimport { Button, Popup } from \"vant\";\r\nimport Tabs from \"@/components/Tabs\";\r\nimport DatePicker from \"@/components/DatePicker\";\r\n\r\nVue.use(Button);\r\nVue.use(Popup);\r\n\r\nconst FORMATSTR = \"YYYY.MM.DD\";\r\nconst minDate = moment(\"2020-01-07 00:00:00\").unix(); // 项目最早上线时间 2020.01.07\r\n\r\nexport default {\r\n  props: {\r\n    showSearch: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  components: { Tabs, DatePicker },\r\n  data() {\r\n    return {\r\n      tabs: [\r\n        { name: \"今日实时\" },\r\n        { name: \"昨日\" },\r\n        { name: \"7日\" },\r\n        { name: \"30日\" },\r\n        { name: \"自定义\" }\r\n      ],\r\n      time_type: 0, // 时间段类型\r\n      timeStr: \"\", // 时间描述\r\n      start_time: \"\", // 自定义开始时间\r\n      end_time: \"\", // 自定义结束时间\r\n      show: false, // 时间弹窗\r\n      property: \"\", // 时间标志\r\n      pickerValue: new Date()\r\n    };\r\n  },\r\n  computed: {\r\n    startTimeStr() {\r\n      return this.start_time.split(\"-\").join(\".\");\r\n    },\r\n    endTimeStr() {\r\n      return this.end_time.split(\"-\").join(\".\");\r\n    }\r\n  },\r\n  created() {\r\n    const { index = 0 } = this.$route.query;\r\n    this.tabChange(Number(index));\r\n  },\r\n  mounted() {\r\n    const { index = 0 } = this.$route.query;\r\n    this.$refs.tab.active = Number(index);\r\n  },\r\n  methods: {\r\n    // 顶部tab切换\r\n    tabChange(index) {\r\n      this.time_type = index;\r\n      this.p = 1;\r\n      switch (index) {\r\n        case 0: // 今日实时\r\n          this.timeStr = moment().format(FORMATSTR);\r\n          break;\r\n        case 1: // 昨日\r\n          this.timeStr = moment()\r\n            .subtract(1, \"days\")\r\n            .format(FORMATSTR);\r\n          break;\r\n        case 2: // 7日\r\n          this.timeStr = `${moment()\r\n            .subtract(7, \"days\")\r\n            .format(FORMATSTR)}-${moment()\r\n            .subtract(1, \"days\")\r\n            .format(FORMATSTR)}`;\r\n          break;\r\n        case 3: // 30日\r\n          this.timeStr = `${moment()\r\n            .subtract(30, \"days\")\r\n            .format(FORMATSTR)}-${moment()\r\n            .subtract(1, \"days\")\r\n            .format(FORMATSTR)}`;\r\n          break;\r\n        default:\r\n          // 自定义默认前三个月 开始时间不能在最早上线时间之前\r\n          if (\r\n            moment()\r\n              .subtract(91, \"days\")\r\n              .unix() < minDate\r\n          ) {\r\n            this.start_time = moment(minDate * 1000).format(\"YYYY-MM-DD\");\r\n          } else {\r\n            this.start_time = moment()\r\n              .subtract(91, \"days\")\r\n              .format(\"YYYY-MM-DD\");\r\n          }\r\n          this.end_time = moment()\r\n            .subtract(1, \"days\")\r\n            .format(\"YYYY-MM-DD\");\r\n          this.timeStr = this.startTimeStr + \"-\" + this.endTimeStr;\r\n      }\r\n      this.getParams();\r\n    },\r\n    // 参数整合\r\n    getParams() {\r\n      this.$nextTick().then(() => {\r\n        const params = {\r\n          time_type: this.time_type, // 时间段类型\r\n          start_time: this.start_time, // 自定义开始时间\r\n          end_time: this.end_time, // 自定义结束时间\r\n          timeStr: this.timeStr // 时间描述\r\n        };\r\n        this.$emit(\"timeChange\", params);\r\n      });\r\n    },\r\n    // 搜索\r\n    onSearch() {\r\n      this.$emit(\"search\");\r\n    },\r\n    // 时间弹窗完成\r\n    dateConfirm(date) {\r\n      this[this.property] = moment(date).format(\"YYYY-MM-DD\");\r\n      this.show = false;\r\n    },\r\n    // 显示时间弹窗\r\n    showDate(property) {\r\n      this.property = property;\r\n      this.pickerValue = new Date(`${this[property].split(\"-\").join(\"/\")}`);\r\n      this.show = true;\r\n    },\r\n    // 确认时间\r\n    confirm() {\r\n      if (this.startTimeStr && this.endTimeStr) {\r\n        if (moment(this.start_time).unix() > moment(this.end_time).unix()) {\r\n          this.$toast('请选择正确的时间区间')\r\n          return\r\n        }\r\n        this.timeStr = this.startTimeStr + \"-\" + this.endTimeStr;\r\n        this.getParams();\r\n      } else {\r\n        this.$toast(\"请选择时间\");\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.tab-box {\r\n  background: #fff;\r\n}\r\n\r\n.search {\r\n  width: 18px;\r\n  margin-right: 13px;\r\n  margin-left: 50px;\r\n}\r\n\r\n.search-tabs {\r\n  padding-left: 11px;\r\n}\r\n\r\n.time-desc {\r\n  box-sizing: border-box;\r\n  width: 349px;\r\n  height: 43px;\r\n  line-height: 43px;\r\n  padding: 0 10px;\r\n  background: rgba(255, 255, 255, 1);\r\n  box-shadow: 0px 0px 4px 0px rgba(193, 193, 193, 0.5);\r\n  margin: 5px auto;\r\n  color: #777;\r\n  font-size: 14px;\r\n  border-radius: 6px;\r\n}\r\n\r\n.time {\r\n  width: 105px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  background: rgba(254, 250, 243, 1);\r\n  border-radius: 2px;\r\n  border: 1px solid rgba(246, 217, 180, 1);\r\n  color: #282828;\r\n  font-size: 14px;\r\n}\r\n\r\n.line {\r\n  width: 8px;\r\n  height: 2px;\r\n  background: rgba(231, 189, 121, 1);\r\n  margin: 0 11px;\r\n}\r\n\r\n// .date{\r\n//   // position: absolute;\r\n//   // bottom: 0;\r\n//   // left: 0;\r\n//   // z-index: 1;\r\n// }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeSearch.vue?vue&type=template&id=27f236f6&scoped=true&\"\nimport script from \"./TimeSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeSearch.vue?vue&type=style&index=0&id=27f236f6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27f236f6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a2eb2642&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a2eb2642&lang=less&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAYCAYAAACBbx+6AAABqElEQVRYR8WWvUoEMRRGz6K1lcKCPoeN+LOPIP4U9iooWvoSWykqok8gq4i9hQrWFr6DjdY2WsiFZI2XZJPMZHam2s1MJmc+zr1Jh79rFpgD3oAvZ7zNn1PAIvAOvApIx9DMA/dAF3gAtoCPNkmBGeAa6AE/hmlggU+AAwfwGVgDPluCngZugSVn/QGwaYH3gDMF1xa0JHujYAXtCOhb4EkDvKOgn4CNMeohsJLksuK4BPZFDQss9wX6HNj2JL0+BuhQskNYt+gsYyjppvXwOStM/2B9wLGkmyjEEOwVILUlHWJ4uUq44yE9SjsdctYLG0rY1aNJp0POBmFjwE3qkaVBihKpekj3yN1cBFb6rG5dI5O1QCGH9QZXquVV0iA34ZSWl9Kna8OmOOxL+hTYzdzGKzurAVKVcOdNmG1cQ0vL8zldy9kSwLZ7pCRdLNncotMfGoNeNRPuPKeupG7gW7CKw6lOP5oHV9SEWrAlgOUdIaf1x9WGLQWcAl0EtiTwKKeLwZYGttDH5lgo/y+AQ+A7VES541X6cGwN2cYXzEMv+jwbmxy7/wu5uHkZzEau9AAAAABJRU5ErkJggg==\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeSearch.vue?vue&type=style&index=0&id=27f236f6&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeSearch.vue?vue&type=style&index=0&id=27f236f6&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[(_vm.params.isSearch)?_c('TimeSearch',{on:{\"timeChange\":_vm.timeChange,\"search\":_vm.toSearch}}):_c('div',{staticClass:\"time-desc\"},[_vm._v(\"数据统计日期：\"+_vm._s(_vm.params.timeStr))]),_c('div',{staticClass:\"goods flex ac js\",on:{\"click\":function($event){return _vm.toGoods(_vm.goods.goods_id)}}},[_c('CustomImg',{attrs:{\"width\":\"1.6rem\",\"height\":\"1.6rem\",\"fit\":\"cover\",\"src\":_vm.goods.original_img}}),_c('div',{staticClass:\"item goods-name\"},[_vm._v(_vm._s(_vm.goods.goods_name))]),(_vm.goodsVisible)?_c('div',{staticClass:\"goods-btn text-center\"},[_vm._v(\"查看详情\")]):_vm._e()],1),_c('WholeData',{attrs:{\"nums\":_vm.nums}}),_c('div',{staticClass:\"rank\"},[_c('div',{staticClass:\"rank-head\"},[_c('div',{staticClass:\"rank-title flex ac js\"},[(_vm.params.type === 'sale_num')?_c('div',[_vm._v(\"团队销售数量排行\")]):_vm._e(),(_vm.params.type === 'sale_money')?_c('div',[_vm._v(\"团队销售成交额排行\")]):_vm._e(),(_vm.params.type === 'refund_num')?_c('div',[_vm._v(\"团队退货数量排行\")]):_vm._e(),_c('div',{staticClass:\"flex ac\",on:{\"click\":_vm.toggleSort}},[_vm._v(\" \"+_vm._s(_vm.params.order === 0 ? (\"按\" + (_vm.types[_vm.params.type]) + \"由多到少排序\") : (\"按\" + (_vm.types[_vm.params.type]) + \"由少到多排序\"))+\" \"),_c('img',{class:{top: _vm.params.order === 1},attrs:{\"src\":require('@/assets/bottom.png'),\"alt\":\"\"}})])])]),_c('div',{staticClass:\"rank-list\"},[_c('InfiniteList',{ref:\"list\",attrs:{\"api\":\"teamManage/getUserGoodsSaleList\",\"params\":_vm.listParams,\"formatData\":_vm.formatData},scopedSlots:_vm._u([{key:\"default\",fn:function(slotProps){return _vm._l((slotProps.list),function(item,index){return _c('div',{key:item.goods_id,staticClass:\"list-item flex ac\"},[_c('div',[_vm._v(_vm._s(index + 1))]),_c('div',{staticClass:\"team-img\"},[_c('CustomImg',{attrs:{\"width\":\"1.33rem\",\"height\":\"1.33rem\",\"fit\":\"cover\",\"round\":\"\",\"src\":item.head_pic}})],1),_c('div',{staticClass:\"item\"},[_vm._v(_vm._s(_vm._f(\"longtext\")(item.nickname)))]),(_vm.params.type === 'sale_num' )?_c('div',{staticClass:\"goods-num\"},[_vm._v(\" \"+_vm._s(item.sale_num)+\" \"),_c('span',[_vm._v(\"件\")])]):_vm._e(),(_vm.params.type === 'sale_money' )?_c('div',{staticClass:\"goods-num\"},[_vm._v(\" \"+_vm._s(item.sale_money)+\" \"),_c('span',[_vm._v(\"元\")])]):_vm._e(),(_vm.params.type === 'refund_num' )?_c('div',{staticClass:\"goods-num\"},[_c('div',[_vm._v(\" \"+_vm._s(item.refund_num)+\" \"),_c('span',[_vm._v(\"件\")])]),_c('div',{staticClass:\"refund_money\"},[_vm._v(\"￥\"+_vm._s(item.refund_money))])]):_vm._e()])})}}])})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"detail\">\r\n    <TimeSearch v-if=\"params.isSearch\" @timeChange=\"timeChange\" @search=\"toSearch\"></TimeSearch>\r\n    <div v-else class=\"time-desc\">数据统计日期：{{params.timeStr}}</div>\r\n    <div class=\"goods flex ac js\" @click=\"toGoods(goods.goods_id)\">\r\n      <CustomImg width=\"1.6rem\" height=\"1.6rem\" fit=\"cover\" :src=\"goods.original_img\"></CustomImg>\r\n      <div class=\"item goods-name\">{{goods.goods_name}}</div>\r\n      <div v-if=\"goodsVisible\" class=\"goods-btn text-center\">查看详情</div>\r\n    </div>\r\n    <WholeData :nums=\"nums\"></WholeData>\r\n    <div class=\"rank\">\r\n      <div class=\"rank-head\">\r\n        <div class=\"rank-title flex ac js\">\r\n          <div v-if=\"params.type === 'sale_num'\">团队销售数量排行</div>\r\n          <div v-if=\"params.type === 'sale_money'\">团队销售成交额排行</div>\r\n          <div v-if=\"params.type === 'refund_num'\">团队退货数量排行</div>\r\n          <div class=\"flex ac\" @click=\"toggleSort\">\r\n            {{ params.order === 0 ? `按${types[params.type]}由多到少排序` : `按${types[params.type]}由少到多排序`}}\r\n            <img\r\n              :class=\"{top: params.order === 1}\"\r\n              :src=\"require('@/assets/bottom.png')\"\r\n              alt\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"rank-list\">\r\n        <InfiniteList\r\n          ref=\"list\"\r\n          v-slot=\"slotProps\"\r\n          api=\"teamManage/getUserGoodsSaleList\"\r\n          :params=\"listParams\"\r\n          :formatData=\"formatData\"\r\n        >\r\n          <div\r\n            class=\"list-item flex ac\"\r\n            v-for=\"(item, index) in slotProps.list\"\r\n            :key=\"item.goods_id\"\r\n          >\r\n            <div>{{index + 1}}</div>\r\n            <div class=\"team-img\">\r\n              <CustomImg width=\"1.33rem\" height=\"1.33rem\" fit=\"cover\" round :src=\"item.head_pic\"></CustomImg>\r\n            </div>\r\n            <div class=\"item\">{{item.nickname | longtext}}</div>\r\n            <div class=\"goods-num\" v-if=\"params.type === 'sale_num' \">\r\n              {{item.sale_num}}\r\n              <span>件</span>\r\n            </div>\r\n            <div class=\"goods-num\" v-if=\"params.type === 'sale_money' \">\r\n              {{item.sale_money}}\r\n              <span>元</span>\r\n            </div>\r\n            <div class=\"goods-num\" v-if=\"params.type === 'refund_num' \">\r\n              <div>\r\n                {{item.refund_num}}\r\n                <span>件</span>\r\n              </div>\r\n              <div class=\"refund_money\">￥{{item.refund_money}}</div>\r\n            </div>\r\n          </div>\r\n        </InfiniteList>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getGoods } from \"@/api\";\r\nimport WholeData from \"@/components/WholeData\";\r\nimport TimeSearch from \"@/components/TimeSearch\";\r\nimport InfiniteList from \"@/components/InfiniteList\";\r\n\r\nexport default {\r\n  components: { WholeData, TimeSearch, InfiniteList },\r\n  data() {\r\n    return {\r\n      params: {\r\n        order: 0, // 排序\r\n        type: \"sale_num\"\r\n      }, // 参数,\r\n      nums: [], // 整体数据\r\n      goods: {}, // 商品信息\r\n      types: {\r\n        sale_num: '销量',\r\n        sale_money: '销售额',\r\n        refund_num: '退货量',\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    // 接口参数\r\n    listParams() {\r\n      const params = { ...this.params };\r\n      delete params.timeStr;\r\n      delete params.goods_name;\r\n      return params;\r\n    },\r\n    ...mapGetters({ goodsVisible: \"config/goodsVisible\" })\r\n  },\r\n  created() {\r\n    const params = this.$route.query;\r\n    this.params = {\r\n      ...this.params,\r\n      ...params\r\n    };\r\n    this.getGoodsDetail(params.goods_id);\r\n    this.$store.dispatch(\"config/getConfig\");\r\n  },\r\n  mounted() {\r\n    const params = this.$route.query;\r\n    // 不是搜索页过来不请求数据，由TimeSearch去搜索\r\n    if (!params.isSearch) {\r\n      this.$refs.list.resetData();\r\n    }\r\n  },\r\n  methods: {\r\n    // 商品信息\r\n    getGoodsDetail(goods_id) {\r\n      getGoods({ goods_id }).then(res => {\r\n        if (res.success) {\r\n          const data = res.data.data;\r\n          this.goods = data[0] ? data[0] : {};\r\n        }\r\n      });\r\n    },\r\n    // 排序\r\n    toggleSort() {\r\n      this.params = {\r\n        ...this.params,\r\n        order: this.params.order === 1 ? 0 : 1\r\n      };\r\n      this.$refs.list.resetData();\r\n    },\r\n    // 时间段变化\r\n    timeChange(params) {\r\n      this.params = {\r\n        ...this.params,\r\n        ...params\r\n      };\r\n      this.$refs.list.resetData();\r\n    },\r\n    // 搜索\r\n    toSearch() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 数据格式化\r\n    formatData(res) {\r\n      const { count_num, count_money, list } = res;\r\n      const { data, current_page, last_page } = list;\r\n      const nums = [];\r\n      nums.push(\r\n        {\r\n          name:\r\n            this.params.type === \"refund_num\" ? \"总退货量(件)\" : \"总销量(件)\",\r\n          value: count_num\r\n        },\r\n        {\r\n          name: this.params.type === \"refund_num\" ? \"退货额(元)\" : \"销售额(元)\",\r\n          value: count_money\r\n        }\r\n      );\r\n      this.nums = nums;\r\n      return {\r\n        data,\r\n        current_page,\r\n        last_page\r\n      };\r\n    },\r\n    // 商品详情\r\n    toGoods(id) {\r\n      if (!this.goodsVisible) {\r\n        return;\r\n      }\r\n      const invite_code = JSON.parse(localStorage.getItem(\"userInfo\"))\r\n        .invite_code;\r\n      const url = `${process.env.VUE_APP_CHUNGOU_H5}/goodsDetail?id=${id}&invite_code=${invite_code}`;\r\n      location.href = url;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.time-desc {\r\n  height: 40px;\r\n  line-height: 40px;\r\n  padding-left: 13px;\r\n  background: rgba(255, 255, 255, 1);\r\n  box-shadow: 0px 0px 4px 0px rgba(193, 193, 193, 0.5);\r\n  margin: 0 0 10px;\r\n  color: #777;\r\n  font-size: 14px;\r\n}\r\n\r\n.rank {\r\n  background: #fff;\r\n}\r\n\r\n.rank-head {\r\n  overflow: hidden;\r\n  background: #fff;\r\n}\r\n\r\n.rank-title {\r\n  box-sizing: border-box;\r\n  width: 349px;\r\n  height: 24px;\r\n  background: rgba(254, 250, 243, 1);\r\n  color: #282828;\r\n  font-size: 13px;\r\n  line-height: 24px;\r\n  margin: 18px auto;\r\n  padding: 0 10px;\r\n  img {\r\n    width: 11px;\r\n    margin-left: 6px;\r\n  }\r\n}\r\n\r\n.goods {\r\n  background: #fff;\r\n  width: 349px;\r\n  height: 85px;\r\n  box-sizing: border-box;\r\n  background: rgba(255, 255, 255, 1);\r\n  border-radius: 6px;\r\n  margin: 0 auto;\r\n  padding: 0 10px;\r\n}\r\n\r\n.goods-name {\r\n  color: #252525;\r\n  font-size: 14px;\r\n  line-height: 20px;\r\n  padding: 0 10px;\r\n}\r\n\r\n.goods-btn {\r\n  width: 60px;\r\n  height: 20px;\r\n  line-height: 20px;\r\n  border-radius: 10px;\r\n  border: 1px solid rgba(238, 238, 238, 1);\r\n  color: #ffc500;\r\n  font-size: 12px;\r\n}\r\n\r\n.top {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.list-item {\r\n  padding: 0 13px;\r\n  background: #fff;\r\n  color: #252525;\r\n  font-size: 14px;\r\n  margin-bottom: 15px;\r\n  div:last-child {\r\n    font-size: 18px;\r\n  }\r\n}\r\n\r\n.team-img {\r\n  margin: 0 10px;\r\n}\r\n\r\n.goods-num {\r\n  color: #252525;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  span {\r\n    font-size: 14px;\r\n  }\r\n}\r\n\r\n.refund_money{\r\n  color: #8F8F8F;\r\n  font-size: 12px!important;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a2eb2642&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a2eb2642&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2eb2642\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}